{"version":3,"sources":["webpack:///./App.scss?cbcd","webpack:///./App.tsx","webpack:///./amplitude.ts","webpack:///./appsettings.ts","webpack:///./components/Menu.tsx","webpack:///./firebase.ts","webpack:///./index.tsx","webpack:///./layout/MainLayout.tsx","webpack:///./mapbox.ts","webpack:///./providers/LoginUIProvider.tsx","webpack:///./providers/UserProvider.tsx","webpack:///./views/DownloadView.scss?ab29","webpack:///./views/DownloadView.tsx","webpack:///./views/FinishSurveyView.scss?c390","webpack:///./views/FinishSurveyView.tsx","webpack:///./views/GroupEvents/MapView.tsx","webpack:///./views/GroupEvents/MapViewState.ts","webpack:///./views/GroupEvents/States/CreateEvent.tsx","webpack:///./views/GroupEvents/States/CreateEventMapState.tsx","webpack:///./views/GroupEvents/States/ExploreMapState.tsx","webpack:///./views/GroupEvents/States/LoadingMapState.tsx","webpack:///./views/GroupEvents/States/MapState.tsx","webpack:///./views/GroupEvents/States/ViewAllComments.tsx","webpack:///./views/GroupEvents/States/ViewEventMapState.tsx","webpack:///./views/HelpView.tsx","webpack:///./views/Landings/ChatBot/ChatBotView.scss?9f62","webpack:///./views/Landings/ChatBot/imgs/map-example.png","webpack:///./views/Landings/ChatBot/ChatBotView.tsx","webpack:///./views/Landings/CreateEvent/CreateEventFastView.tsx","webpack:///./views/Landings/CreateEvent/CreateEventLandingView.scss?ead8","webpack:///./views/Landings/CreateEvent/CreateEventLandingView.tsx","webpack:///./views/Landings/CreateEvent/LoginLandingView.scss?dd5e","webpack:///./views/Landings/CreateEvent/LoginLandingView.tsx","webpack:///./views/Landings/FindEvents/FindGroupEventsView.scss?25fb","webpack:///./views/Landings/FindEvents/FindGroupEventsView.tsx","webpack:///./views/Meditations/MapView.tsx","webpack:///./views/MyProfileView.tsx","webpack:///./views/OtherProfileView.tsx","webpack:///./views/SurveyView.scss?5082","webpack:///./views/SurveyView.tsx","webpack:///./App.scss","webpack:///./views/DownloadView.scss","webpack:///./views/FinishSurveyView.scss","webpack:///./views/GroupEvents/MapView.scss","webpack:///./views/Landings/ChatBot/ChatBotView.scss","webpack:///./views/Landings/CreateEvent/CreateEventFastView.scss","webpack:///./views/Landings/CreateEvent/CreateEventLandingView.scss","webpack:///./views/Landings/CreateEvent/LoginLandingView.scss","webpack:///./views/Landings/FindEvents/FindGroupEventsView.scss","webpack:///./views/Meditations/MapView.scss","webpack:///./views/SurveyView.scss","webpack:////Users/siarheishchahrykovich/Documents/Projects/JoinMeOnHike/node_modules/moment/locale|sync|/^\\.\\/.*$/","webpack:///./views/GroupEvents/MapView.scss?0659","webpack:///./views/Landings/CreateEvent/CreateEventFastView.scss?21e9","webpack:///./views/Meditations/MapView.scss?f9ba","webpack:///external \"React\"","webpack:///external \"ReactDOM\""],"names":["App","history","useHistory","useEffect","listen","location","analytics","logEvent","newLocation","pathname","UserProvider","LoginUIProvider","exact","path","MainLayout","MapView","DownloadView","ChatBotView","LoginLandingView","CreateEventFastView","SurveyView","FinishSurveyView","MyProfileView","OtherProfileView","HelpView","to","hot","module","amplitude","init","appSettings","includeReferrer","includeUtm","instance","wrapper","name","o","console","log","analyticsWrapper","settings","window","mode","amplitudeKey","placesJsonUrl","basePath","version","Menu","useAuthState","auth","user","loading","useContext","LoginUIContext","setIsLoginModalVisible","loginLink","type","onClick","setUserId","uid","menu","withRouter","firebaseApp","firebaseConfig","provider","firebase","firestore","signInWithPopup","parseQuery","url","query","questionIndex","indexOf","hashIndex","pairs","hash","queryParams","substr","push","queryParamsArray","split","i","length","pair","decodeURIComponent","Sentry","release","dsn","integrations","Integrations","tracesSampleRate","href","onerror","msg","lineNo","columnNo","error","rootEl","document","getElementById","render","basename","dataset","baseUrl","Content","Layout","Footer","Header","Builder","props","staticContext","children","mapboxgl","mapbox","createContext","useState","isLoginModalVisible","uiConfig","signInFlow","signInSuccessUrl","signInOptions","callbacks","signInSuccessWithAuthResult","doc","get","then","exists","set","ownerId","photoUrl","photoURL","displayName","created","Date","sendAnalyticEvent","Provider","value","title","visible","onCancel","footer","firebaseAuth","UserContext","userAuth","setState","this","state","Component","shouldShowThankYou","setShouldShowThankYou","shouldShowRequired","setShouldShowRequired","thankYou","offset","span","className","xl","xs","placeholder","allowClear","enterButton","size","onSearch","e","email","shouldRedirectToMap","setShouldRedirectToMap","icon","SmileOutlined","extra","isCreatingEvent","canCreateEvent","eventState","getDefaultEventState","mapBox","mapContainerRef","lng","lat","zoom","allEvents","Map","createRef","LoadingMapState","a","mapState","onMapMove","bind","onMapClick","onMapBoxRender","fillMapAfterLoadEvents","onMapLoad","fillMapAfterLoadEventsFromFile","data","nextSaturday","toDate","planned","moment","startOf","add","id","fillMap","features","values","points","userId","context","properties","eventId","displayType","geometry","coordinates","getSource","setData","addSource","cluster","clusterRadius","clusterMaxZoom","getLayer","addLayer","source","filter","paint","on","match","params","ViewEventMapState","ExploreMapState","where","orderBy","fetch","response","json","isSourceLoaded","updateMarkers","total","point_count","r","w","html","Math","round","toLocaleString","el","createElement","innerHTML","firstChild","newMarkers","querySourceFeatures","coords","cluster_id","marker","markers","createDonutChart","element","setLngLat","markersOnScreen","addTo","remove","snap","docs","map","container","mapInstanceRef","current","style","sources","osm","tiles","tileSize","attribution","layers","center","addControl","position","off","mapMovesEvents","getCenter","toFixed","getZoom","eventCreationZoomMinLevel","viewState","setViewState","triggerStateChange","newState","updateMap","mapClicksEvents","createMapStateContext","ref","React","routeCoordinates","clickCoordinates","clicks","routeInstructions","summary","distance","durations","TextArea","Input","getNextSaturday","CreateEvent","form","Form","description","setDescription","date","setDate","lngLatArrayToDict","result","duration","geohashForLocation","obj","geohash","ownerPhotoUrl","ownerDisplayName","time","saveEventHandler","body","level","floor","layout","initialValues","onValuesChange","label","format","showTime","defaultValue","rows","cancelEventCreationHandler","Title","Typography","CreateEventMapState","removeLayer","removeSource","addRouteWaypoint","lngLat","lngLatDictToArray","getCanvasContainer","cursor","end","getFeatureCollectionDescription","getMapLayerDescription","getRoute","clicksCount","prevPoint","req","XMLHttpRequest","open","onload","JSON","parse","target","routes","route","geojson","legs","instruction","send","color","coordsObj","Object","keys","key","MapState","textAlign","queryRenderedFeatures","point","ViewAllComments","appId","width","display","dictToLngLatArray","comment","addRoute","pushState","privateMessageUrl","humanize","overflowY","height","author","avatar","content","datetime","fromNow","styled","HeaderTitle","HeaderIcon","CloseIcon","viewBox","xmlns","d","fill","steps","message","trigger","onNextStepTrigger","delay","options","component","src","MapExample","setTimeout","step","previousStepName","lastStepName","previousStep","parseInt","margin","headerTitle","headerComponent","clickedCoordinates","showFinish","showNext","newEvent","onNextClick","onFacebookShareButtonClick","onFacebookMessengerShareButtonClick","onWhatsappShareButtonClick","onEmailShareButtonClick","next","finish","eventUrl","quote","separator","subject","CreateEventLandingView","shouldRedirectToCreatEventFast","setShouldRedirectToCreatEventFast","align","direction","FindGroupEventsView","shouldShowProgress","setShouldShowProgress","searchLocation","setSearchLocation","shouldShowResult","setShouldShowResult","shouldShowEmailSubmitted","setShouldShowEmailSubmitted","emailSubmitted","progress","disabled","search","audioSrc","selectedArea","selectedDate","onMapRender","onDateChanged","onPlayMeditation","minzoom","project","currentSrc","now","tomorrow","sunriseLineRef","sunriseIconRef","sunsetIconRef","sunsetLineRef","line","cx","cy","dx","dy","val","x1","y1","x2","y2","x","y","attr","baseVal","angle","pitchCos","pad","sunSin","cos","sunCos","sin","min","abs","drawLine","selected","SunCalc","sunriseTime","sunrise","sunsetTime","sunset","basePathForMeditations","tr","transform","loc","sunriseAngle","azimuth","PI","sunsetAngle","pitch","drawGroundLine","timezone","tzlookup","diff","nowForDisplay","natural","replace","buttonStyle","onChange","m","tz","meditations","preload","showJumpControls","autoPlayAfterSrcChange","onPlay","profile","setProfile","p","backgroundColor","sm","md","lg","xxl","comments","setComments","setComment","submitting","setSubmitting","fromUserId","toUserId","newComments","resetFields","profileId","c","sort","b","commentHtml","dataSource","itemLayout","renderItem","alt","htmlType","shouldRedirectToFinish","setShouldRedirectToFinish","setQuestionIndex","answers","questions","showInfo","percent","answer","question","___CSS_LOADER_EXPORT___","webpackContext","webpackContextResolve","__webpack_require__","Error","code","resolve","exports","ReactDOM"],"mappings":"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","file":"main.6ae40fd6e2986111a39c.min.js","sourcesContent":["import api from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./App.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as React from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { Route, Switch, Link, useHistory } from \"react-router-dom\";\nimport MainLayout from \"./layout/MainLayout\";\n\nimport \"./App.scss\";\n\nimport UserProvider from \"./providers/UserProvider\";\nimport LoginUIProvider from \"./providers/LoginUIProvider\";\n\nimport MapView from \"./views/GroupEvents/MapView\";\nimport MyProfileView from \"./views/MyProfileView\";\nimport HelpView from \"./views/HelpView\";\nimport OtherProfileView from \"./views/OtherProfileView\";\nimport SurveyView from \"./views/SurveyView\";\nimport FinishSurveyView from \"./views/FinishSurveyView\";\nimport MeditationMapView from \"./views/Meditations/MapView\";\nimport DownloadView from \"./views/DownloadView\";\nimport { useEffect } from \"react\";\n\nimport { analytics } from \"./amplitude\";\nimport CreateEventLanding from \"./views/Landings/CreateEvent/CreateEventLandingView\";\nimport CreateEventFastView from \"./views/Landings/CreateEvent/CreateEventFastView\";\nimport LoginLandingView from \"./views/Landings/CreateEvent/LoginLandingView\";\nimport FindGroupEvents from \"./views/Landings/FindEvents/FindGroupEventsView\";\nimport ChatBotView from \"./views/Landings/ChatBot/ChatBotView\";\n\nconst App = () => {\n  const history = useHistory();\n\n  useEffect(() => {\n    return history.listen((location) => {\n      analytics\n        .getInstance()\n        .logEvent(\"PageChanged\", { newLocation: location.pathname });\n    });\n  }, [history]);\n\n  return (\n    <UserProvider>\n      <LoginUIProvider>\n        <Switch>\n          <Route exact path=\"/\">\n            <MainLayout>\n              <MapView />\n            </MainLayout>\n          </Route>\n          <Route exact path=\"/subscribe\">\n            <MainLayout>\n              <DownloadView />\n            </MainLayout>\n          </Route>\n          <Route exact path=\"/chat-bot-landing\">\n            <ChatBotView />\n          </Route>\n          <Route exact path=\"/find-group-event-landing\">\n            <MainLayout>\n              <FindGroupEvents />\n            </MainLayout>\n          </Route>\n          <Route exact path=\"/login-landing\">\n            <MainLayout>\n              <LoginLandingView />\n            </MainLayout>\n          </Route>\n          <Route exact path=\"/create-event-landing\">\n            <MainLayout>\n              <CreateEventLanding />\n            </MainLayout>\n          </Route>\n          <Route exact path=\"/create-event-fast\">\n            <MainLayout>\n              <CreateEventFastView />\n            </MainLayout>\n          </Route>\n          <Route exact path=\"/download\">\n            <MainLayout>\n              <DownloadView />\n            </MainLayout>\n          </Route>\n          <Route exact path=\"/meditation-places\">\n            <MainLayout>\n              <MeditationMapView />\n            </MainLayout>\n          </Route>\n          <Route exact path=\"/survey\">\n            <MainLayout>\n              <SurveyView />\n            </MainLayout>\n          </Route>\n          <Route exact path=\"/finish-survey\">\n            <MainLayout>\n              <FinishSurveyView />\n            </MainLayout>\n          </Route>\n          <Route path=\"/events/:eventId\">\n            <MainLayout>\n              <MapView />\n            </MainLayout>\n          </Route>\n          <Route exact path=\"/profile/\">\n            <MainLayout>\n              <MyProfileView />\n            </MainLayout>\n          </Route>\n          <Route exact path=\"/profile/:profileId\">\n            <MainLayout>\n              <OtherProfileView />\n            </MainLayout>\n          </Route>\n          <Route exact path=\"/help\">\n            <MainLayout>\n              <HelpView />\n            </MainLayout>\n          </Route>\n          <Route>\n            <MainLayout>\n              <div>\n                Not found&nbsp;<Link to=\"/\">Go to root</Link>\n              </div>\n            </MainLayout>\n          </Route>\n        </Switch>\n      </LoginUIProvider>\n    </UserProvider>\n  );\n};\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(App);\n","// https://developers.amplitude.com/docs/javascript\nimport amplitude from \"amplitude-js\";\nimport { appSettings } from \"./appsettings\";\n\namplitude\n  .getInstance()\n  .init(appSettings.amplitudeKey, { includeReferrer: true, includeUtm: true });\nexport const analytics = amplitude;\n\nconst instance = amplitude.getInstance();\nlet wrapper = instance;\nif (appSettings.mode === \"debug\") {\n  wrapper = {\n    logEvent: function (name, o) {\n      console.log(name, o);\n      instance.logEvent(name, o);\n    },\n  };\n}\n\nexport const analyticsWrapper = wrapper;\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst settings = window.appSettings;\n\nexport type AppSettings = {\n  mode: string;\n  amplitudeKey: string;\n  placesJsonUrl: string;\n  basePath: string;\n  version: string;\n};\n\nexport const appSettings: AppSettings = {\n  mode: settings.mode,\n  amplitudeKey: settings.amplitudeKey,\n  placesJsonUrl: settings.placesJsonUrl,\n  basePath: settings.basePath,\n  version: settings.version,\n};\n","import * as React from \"react\";\nimport * as _ from \"lodash\";\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\nimport { hot } from \"react-hot-loader\";\nimport { Button, Layout } from \"antd\";\nimport { auth, firebase, firestore } from \"../firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useState, useContext, useEffect } from \"react\";\nimport { LoginUIContext } from \"../providers/LoginUIProvider\";\nimport { analytics } from \"../amplitude\";\n\nconst Menu = () => {\n  const [user, loading, error] = useAuthState(auth);\n  const [isLoginModalVisible, setIsLoginModalVisible] = useContext(\n    LoginUIContext,\n  );\n  const loginClick = () => {\n    setIsLoginModalVisible(true);\n  };\n\n\n  const logoutClick = () => {\n    auth.signOut();\n  };\n\n  let loginLink = (\n    <Button type=\"link\" onClick={loginClick}>\n      Login\n    </Button>\n  );\n\n  if (!loading && user !== null) {\n    analytics.getInstance().setUserId(user.uid);\n    analytics.getInstance().logEvent(\"UserLogin\");\n    loginLink = (\n      <>\n        {/*<Link to={\"/profile\"}>Profile</Link>*/}\n        <Button type=\"link\" onClick={logoutClick}>\n          Logout\n        </Button>\n      </>\n    );\n  }\n\n  let menu = (\n    <>\n      <Link to={\"/\"}>Events</Link>&nbsp;&nbsp;&nbsp;&nbsp;\n      <Link to={\"/meditation-places\"}>Meditations</Link>&nbsp;&nbsp;&nbsp;&nbsp;\n      <Link to={\"/download\"}>Download</Link>&nbsp;&nbsp;&nbsp;&nbsp;\n      {/*<Link to={\"/help\"}>Help</Link>&nbsp;*/}\n      {loginLink}\n    </>\n  );\n  if (loading) {\n    menu = <></>;\n  }\n\n  return <>{menu}</>;\n};\n\nexport default hot(module)(withRouter(Menu));\n","import firebaseApp from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nfirebaseApp.initializeApp(window.firebaseConfig);\n\nconst provider = new firebaseApp.auth.GoogleAuthProvider();\n\nexport const signInWithGoogle = () => {\n  auth.signInWithPopup(provider);\n};\n\nexport const firebase = firebaseApp;\nexport const auth = firebaseApp.auth();\nexport const firestore = firebaseApp.firestore();\n","import * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport { analytics } from \"./amplitude\";\nimport { appSettings } from \"./appsettings\";\n\nimport * as Sentry from \"@sentry/react\";\nimport { Integrations } from \"@sentry/tracing\";\n\nif(appSettings.mode === \"production\") {\n  Sentry.init({\n    release: appSettings.mode + \"@\" + appSettings.version,\n    dsn:\n      \"https://7e26730be3394d57b8adf76f7291e5bb@o914304.ingest.sentry.io/5852979\",\n    integrations: [new Integrations.BrowserTracing()],\n\n    // Set tracesSampleRate to 1.0 to capture 100%\n    // of transactions for performance monitoring.\n    // We recommend adjusting this value in production\n    tracesSampleRate: 1.0,\n  });\n}\n\nfunction parseQuery(url) {\n  const query = { url: url };\n  const questionIndex = url.indexOf(\"?\");\n  const hashIndex = url.indexOf(\"#\");\n  const pairs = [];\n\n  let hash = \"\";\n  let queryParams = \"\";\n\n  if (hashIndex === -1 || questionIndex === -1) {\n    if (hashIndex === -1 && questionIndex === -1) {\n      hash = \"#/\";\n      queryParams = \"\";\n    } else if (hashIndex !== -1 && questionIndex === -1) {\n      queryParams = \"\";\n      hash = url.substr(hashIndex);\n    } else if (questionIndex !== -1 && hashIndex === -1) {\n      hash = \"#/\";\n      queryParams = url.substr(questionIndex);\n    }\n  } else {\n    if (hashIndex < questionIndex) {\n      hash = url.substr(hashIndex, questionIndex - hashIndex);\n      queryParams = url.substr(questionIndex);\n    } else {\n      hash = url.substr(hashIndex);\n      queryParams = url.substr(questionIndex, hashIndex - questionIndex);\n    }\n  }\n  pairs.push(\"hash=\" + hash);\n  const queryParamsArray = queryParams.split(/[?&]/);\n  for (const i in queryParamsArray) {\n    if (queryParamsArray[i]) {\n      pairs.push(queryParamsArray[i]);\n    }\n  }\n  for (let i = 0; i < pairs.length; i++) {\n    const pair = pairs[i].split(\"=\");\n    query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || \"\");\n  }\n  return query;\n}\n\nanalytics.getInstance().logEvent(\"AppLoaded\", parseQuery(window.location.href));\n\nwindow.onerror = function (msg, url, lineNo, columnNo, error) {\n  analytics\n    .getInstance()\n    .logEvent(\"ErrorOccurred\", { msg, url, lineNo, columnNo, error });\n  return false;\n};\n\nconst rootEl = document.getElementById(\"root\");\n\nrender(\n  <HashRouter basename={rootEl.dataset.baseUrl}>\n    <App />\n  </HashRouter>,\n  rootEl,\n);\n","import * as React from \"react\";\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\nimport { hot } from \"react-hot-loader\";\nimport { Button, Layout } from \"antd\";\nconst { Content, Footer, Header } = Layout;\nimport Menu from \"../components/Menu\";\n\nconst Builder = (props) => {\n  const { to, staticContext, children, ...rest } = props;\n  return (\n    <Layout>\n      <Header>\n        <Menu />\n      </Header>\n      <Content>{children}</Content>\n    </Layout>\n  );\n};\n\ndeclare let module: Record<string, unknown>;\nexport default hot(module)(withRouter(Builder));\n","import mapboxgl from \"mapbox-gl\";\n\nmapboxgl.accessToken =\n  \"pk.eyJ1Ijoiam9pbm1lb25oaWtlIiwiYSI6ImNrb3pobjY2YzBhNHcyb2xnN2x1ZTc4bTMifQ.Z1o-MgZFmGk2nod2-AlYTA\";\n\nexport const mapbox = mapboxgl;\n","import * as React from \"react\";\nimport { createContext, useContext } from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { auth, firebase, firestore } from \"../firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useState } from \"react\";\nimport { Modal } from \"antd\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\n\nexport const LoginUIContext = createContext([]);\n\nconst LoginUIProvider = (props) => {\n  const [isLoginModalVisible, setIsLoginModalVisible] = useState(false);\n  const [user, loading, error] = useAuthState(auth);\n\n  const closeLoginModal = () => {\n    setIsLoginModalVisible(false);\n  };\n  const uiConfig = {\n    signInFlow: \"popup\",\n    signInSuccessUrl: \"/\",\n    signInOptions: [\n      firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      firebase.auth.EmailAuthProvider.PROVIDER_ID,\n    ],\n    callbacks: {\n      signInSuccessWithAuthResult: () => {\n        setIsLoginModalVisible(false);\n        return false;\n      },\n    },\n  };\n\n  const tryUpdateProfile = (doc) => {\n    if (!doc.exists) {\n      firestore.collection(\"profiles\").doc(user.uid).set({\n        ownerId: user.uid,\n        photoUrl: user.photoURL,\n        displayName: user.displayName,\n        created: new Date(),\n      });\n    }\n  };\n\n  if (!loading && user !== null) {\n    firestore.collection(\"profiles\").doc(user.uid).get().then(tryUpdateProfile);\n  }\n\n  if (isLoginModalVisible) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    window.sendAnalyticEvent(\"event\", \"Click\", \"Login\");\n  }\n\n  return (\n    <LoginUIContext.Provider\n      value={[isLoginModalVisible, setIsLoginModalVisible]}\n    >\n      {/* eslint-disable-next-line react/prop-types */}\n      {props.children}\n      <Modal\n        title=\"Please create an account to see and explore hiking events.\"\n        visible={isLoginModalVisible}\n        onCancel={closeLoginModal}\n        footer={[]}\n      >\n        <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={auth} />\n      </Modal>\n    </LoginUIContext.Provider>\n  );\n};\n\nexport default hot(module)(LoginUIProvider);\n","import * as React from \"react\";\nimport { Component, createContext } from \"react\";\nimport { auth } from \"../firebase\";\nimport { hot } from \"react-hot-loader\";\n\nexport const UserContext = createContext({ user: null });\n\nclass UserProvider extends Component {\n  state = {\n    user: null,\n  };\n\n  componentDidMount = () => {\n    auth.onAuthStateChanged((userAuth) => {\n      this.setState({ user: userAuth });\n    });\n  };\n\n  public render() {\n    return (\n      <UserContext.Provider value={this.state.user}>\n        {/* eslint-disable-next-line react/prop-types */}\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\ndeclare let module: Record<string, unknown>;\nexport default hot(module)(UserProvider);\n","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./DownloadView.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as React from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter, Link, Redirect } from \"react-router-dom\";\n\nimport \"./DownloadView.scss\";\nimport {\n  Button,\n  Col,\n  Radio,\n  Row,\n  Progress,\n  Typography,\n  Space,\n  Input,\n} from \"antd\";\nimport { useState } from \"react\";\n\nimport { analytics } from \"../amplitude\";\n\nconst DownloadView = () => {\n  const [shouldShowThankYou, setShouldShowThankYou] = useState(false);\n  const [shouldShowRequired, setShouldShowRequired] = useState(false);\n\n  function onSubmit(e) {\n    if (e) {\n      analytics.getInstance().logEvent(\"SubscribedForUpdates\", { email: e });\n      setShouldShowThankYou(true);\n      setShouldShowRequired(false);\n    } else {\n      setShouldShowRequired(true);\n      setShouldShowThankYou(false);\n    }\n  }\n\n  let thankYou = <></>;\n  if (shouldShowThankYou) {\n    thankYou = (\n      <Row>\n        <Col offset={1} span={22}>\n          <Typography.Text type=\"success\">Thank you!</Typography.Text>\n        </Col>\n      </Row>\n    );\n  }\n  if (shouldShowRequired) {\n    thankYou = (\n      <Row>\n        <Col offset={1} span={22}>\n          <Typography.Text type={\"danger\"}>Please enter email.</Typography.Text>\n        </Col>\n      </Row>\n    );\n  }\n\n  return (\n    <div className={\"container\"}>\n      <Row>\n        <Col offset={1} span={22}>\n          <Typography.Title title={\"2\"}>\n            Subscribe for news and updates\n          </Typography.Title>\n        </Col>\n      </Row>\n      {thankYou}\n      <Row>\n        <Col offset={1} xl={{ span: 6 }} xs={{ span: 22 }}>\n          <Input.Search\n            placeholder=\"Email\"\n            allowClear\n            enterButton=\"Submit\"\n            size=\"large\"\n            onSearch={onSubmit}\n          />\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(DownloadView));\n","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./FinishSurveyView.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as React from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter, Link, Redirect } from \"react-router-dom\";\n\nimport \"./FinishSurveyView.scss\";\nimport { Button, Col, Row, Progress, Typography } from \"antd\";\nimport { useState } from \"react\";\n\nimport { analytics } from \"../amplitude\";\n\nimport { Result } from \"antd\";\nimport { SmileOutlined } from \"@ant-design/icons\";\n\nconst FinishSurveyView = () => {\n  const [shouldRedirectToMap, setShouldRedirectToMap] = useState(false);\n\n  function nextClick() {\n    setShouldRedirectToMap(true);\n    analytics.getInstance().logEvent(\"FinishSurveyNextClicked\");\n  }\n\n  if (shouldRedirectToMap) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <div className={\"container\"}>\n      <Row>\n        <Col offset={1} span={22}>\n          <Result\n            icon={<SmileOutlined />}\n            title=\"Thanks for the answers! Now you are ready to explore the map.\"\n            extra={<Button onClick={nextClick} type=\"primary\">Show the map</Button>}\n          />\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(FinishSurveyView));\n","import * as React from \"react\";\nimport { createRef } from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./MapView.scss\";\nimport { mapbox } from \"../../mapbox\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { Row, Col } from \"antd\";\nimport { firestore } from \"../../firebase\";\nimport { MapViewState, getDefaultEventState } from \"./MapViewState\";\nimport { ExploreMapState } from \"./States/ExploreMapState\";\nimport { UserContext } from \"../../providers/UserProvider\";\nimport { MapStateContext } from \"./States/MapState\";\nimport { ViewEventMapState } from \"./States/ViewEventMapState\";\nimport { LoadingMapState } from \"./States/LoadingMapState\";\nimport { analytics } from \"../../amplitude\";\nimport { appSettings } from \"../../appsettings\";\nimport * as moment from \"moment\";\n\n//https://github.com/firebase/firebaseui-web-react\n//https://github.com/alex3165/react-mapbox-gl\nclass MapView extends React.Component<Record<string, unknown>, MapViewState> {\n  public readonly state: MapViewState = {\n    isCreatingEvent: false,\n    canCreateEvent: false,\n    eventState: getDefaultEventState(),\n    mapBox: null,\n    mapContainerRef: null,\n    lng: -117.5357,\n    lat: 34.1449,\n    zoom: 8.93,\n    allEvents: new Map<string, any>(),\n  };\n\n  static contextType = UserContext;\n  private mapInstanceRef = createRef<HTMLDivElement>();\n  private eventCreationZoomMinLevel = 11.7;\n  private markersOnScreen = {};\n  private markers = {};\n  private mapState = new LoadingMapState((a) => {\n    this.mapState = a;\n    this.setState(this.state);\n  });\n  private mapMovesEvents = 0;\n  private mapClicksEvents = 0;\n\n  constructor(props) {\n    super(props);\n\n    this.onMapMove = this.onMapMove.bind(this);\n    this.onMapClick = this.onMapClick.bind(this);\n    this.onMapBoxRender = this.onMapBoxRender.bind(this);\n    this.fillMapAfterLoadEvents = this.fillMapAfterLoadEvents.bind(this);\n    this.onMapLoad = this.onMapLoad.bind(this);\n    this.fillMapAfterLoadEventsFromFile = this.fillMapAfterLoadEventsFromFile.bind(\n      this,\n    );\n\n    analytics.getInstance().logEvent(\"GroupEventsMapView\");\n  }\n\n  private fillMapAfterLoadEventsFromFile(data) {\n    function getNextSaturday() {\n      let nextSaturday = moment()\n        .startOf(\"isoWeek\")\n        .add(5, \"day\")\n        .add(10, \"hour\");\n      const now = moment();\n      if (nextSaturday < now) {\n        nextSaturday = nextSaturday.add(7, \"day\");\n      }\n      return nextSaturday;\n    }\n\n    for (const doc of data) {\n      doc.get = function (a) {\n        if (a === \"created\" || a === \"planned\") {\n          return {\n            toDate: function () {\n              return doc[a];\n            },\n          };\n        }\n        return doc[a];\n      };\n      doc.created = new Date();\n      doc.planned = getNextSaturday().toDate();\n      doc.ownerId = \"bFCZiTn3vKPjLPp7vrlxJsboXO32\";\n      this.state.allEvents.set(doc.id, doc);\n    }\n\n    this.fillMap();\n  }\n\n  private fillMap() {\n    const mapBox = this.state.mapBox;\n\n    const features = [];\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    for (const doc of this.state.allEvents.values()) {\n      const points = doc.get(\"points\");\n      const lat = points[0].lat;\n      const lng = points[0].lng;\n\n      let userId = null;\n      if (this.context) {\n        userId = this.context.id;\n      }\n\n      features.push({\n        type: \"Feature\",\n        properties: {\n          eventId: doc.id,\n          ownerId: doc.get(\"ownerId\"),\n          displayType: userId === doc.get(\"ownerId\") ? \"Mine\" : \"Other\",\n        },\n        geometry: {\n          type: \"Point\",\n          coordinates: [lng, lat, 0.0],\n        },\n      });\n    }\n\n    if (mapBox.getSource(\"routes\")) {\n      mapBox.getSource(\"routes\").setData({\n        type: \"FeatureCollection\",\n        features: features,\n      });\n    } else {\n      mapBox.addSource(\"routes\", {\n        type: \"geojson\",\n        data: {\n          type: \"FeatureCollection\",\n          features: features,\n        },\n        cluster: true,\n        clusterRadius: 80,\n        clusterMaxZoom: 14,\n      });\n    }\n\n    if (!mapBox.getLayer(\"route_circles\")) {\n      mapBox.addLayer({\n        id: \"route_circles\",\n        type: \"circle\",\n        source: \"routes\",\n        filter: [\"!=\", \"cluster\", true],\n        paint: {\n          \"circle-color\": [\n            \"match\",\n            [\"get\", \"displayType\"],\n            \"Mine\",\n            \"#3887be\",\n            \"Other\",\n            \"#4264fb\",\n            \"#4264fb\",\n          ],\n          \"circle-stroke-width\": 2,\n          \"circle-stroke-color\": \"#ffffff\",\n          \"circle-opacity\": 0.8,\n          \"circle-radius\": 12,\n        },\n      });\n    }\n\n    // after the GeoJSON data is loaded, update markers on the screen on every frame\n    mapBox.on(\"render\", this.onMapBoxRender);\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const { eventId } = this.props.match.params;\n    if (eventId) {\n      this.mapState = ViewEventMapState.fromUrl(eventId, this.state, (a) => {\n        this.mapState = a;\n        this.setState(this.state);\n      });\n    } else {\n      this.mapState = new ExploreMapState((a) => {\n        this.mapState = a;\n        this.setState(this.state);\n      });\n    }\n    this.setState(this.state);\n  }\n\n  private onMapLoad() {\n    firestore\n      .collection(\"events\")\n      .where(\"planned\", \">\", new Date())\n      .orderBy(\"planned\")\n      .get()\n      .then(this.fillMapAfterLoadEvents);\n\n    fetch(\"/trails.json\")\n      .then((response) => response.json())\n      .then(this.fillMapAfterLoadEventsFromFile);\n  }\n\n  private onMapBoxRender() {\n    if (!this.state.mapBox.isSourceLoaded(\"routes\")) return;\n    this.updateMarkers();\n  }\n\n  private createDonutChart(props) {\n    const total = props.point_count;\n    const fontSize =\n      total >= 1000 ? 22 : total >= 100 ? 20 : total >= 10 ? 18 : 16;\n    const r = total >= 1000 ? 50 : total >= 100 ? 32 : total >= 10 ? 24 : 18;\n    const r0 = Math.round(r * 0.6);\n    const w = r * 2;\n\n    let html =\n      '<div><svg width=\"' +\n      w +\n      '\" height=\"' +\n      w +\n      '\" viewbox=\"0 0 ' +\n      w +\n      \" \" +\n      w +\n      '\" text-anchor=\"middle\" style=\"font: ' +\n      fontSize +\n      'px sans-serif; display: block\">';\n\n    html +=\n      '<circle cx=\"' +\n      r +\n      '\" cy=\"' +\n      r +\n      '\" r=\"' +\n      r0 +\n      '\" fill=\"#3887be\" /><text dominant-baseline=\"central\" transform=\"translate(' +\n      r +\n      \", \" +\n      r +\n      ')\">' +\n      total.toLocaleString() +\n      \"</text></svg></div>\";\n\n    const el = document.createElement(\"div\");\n    el.innerHTML = html;\n    return el.firstChild;\n  }\n\n  private updateMarkers() {\n    const newMarkers = {};\n    const features = this.state.mapBox.querySourceFeatures(\"routes\");\n\n    // for every cluster on the screen, create an HTML marker for it (if we didn't yet),\n    // and add it to the map if it's not there already\n    for (let i = 0; i < features.length; i++) {\n      const coords = features[i].geometry.coordinates;\n      const props = features[i].properties;\n      if (!props.cluster) continue;\n      const id = props.cluster_id;\n\n      let marker = this.markers[id];\n      if (!marker) {\n        const el = this.createDonutChart(props);\n        marker = this.markers[id] = new mapbox.Marker({\n          element: el,\n        }).setLngLat(coords);\n      }\n      newMarkers[id] = marker;\n\n      if (!this.markersOnScreen[id]) {\n        marker.addTo(this.state.mapBox);\n      }\n    }\n    // for every marker we've added previously, remove those that are no longer visible\n    for (const i in this.markersOnScreen) {\n      if (!newMarkers[i]) this.markersOnScreen[i].remove();\n    }\n    this.markersOnScreen = newMarkers;\n  }\n\n  private fillMapAfterLoadEvents(snap) {\n    for (const doc of snap.docs) {\n      this.state.allEvents.set(doc.id, doc);\n    }\n\n    this.fillMap();\n  }\n\n  public componentDidMount() {\n    const map = new mapbox.Map({\n      container: this.mapInstanceRef.current,\n      //style: 'mapbox://styles/mapbox/outdoors-v11',\n      style: {\n        version: 8,\n        sources: {\n          osm: {\n            type: \"raster\",\n            tiles: [\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\"],\n            tileSize: 256,\n            attribution:\n              'GroupEvents tiles by <a target=\"_top\" rel=\"noopener\" href=\"https://tile.openstreetmap.org/\">OpenStreetMap tile servers</a>, under the <a target=\"_top\" rel=\"noopener\" href=\"https://operations.osmfoundation.org/policies/tiles/\">tile usage policy</a>. Data by <a target=\"_top\" rel=\"noopener\" href=\"http://openstreetmap.org\">OpenStreetMap</a>',\n          },\n        },\n        layers: [\n          {\n            id: \"osm\",\n            type: \"raster\",\n            source: \"osm\",\n          },\n        ],\n      },\n      center: [this.state.lng, this.state.lat],\n      zoom: this.state.zoom,\n    });\n\n    map.on(\"move\", this.onMapMove);\n    map.on(\"click\", this.onMapClick);\n    map.on(\"load\", this.onMapLoad);\n\n    map.addControl(new mapbox.NavigationControl());\n    map.addControl(new mapbox.ScaleControl({ position: \"bottom-right\" }));\n\n    this.setState({ mapBox: map });\n  }\n\n  public componentWillUnmount() {\n    this.state.mapBox.off(\"move\", this.onMapMove);\n    this.state.mapBox.off(\"click\", this.onMapClick);\n    this.state.mapBox.off(\"render\", this.onMapBoxRender);\n    this.state.mapBox.off(\"load\", this.onMapLoad)\n  }\n\n  private onMapMove(e) {\n    this.mapMovesEvents = this.mapMovesEvents + 1;\n\n    switch (this.mapMovesEvents) {\n      case 1:\n        analytics.getInstance().logEvent(\"GroupEventsMapMoved1\");\n        break;\n      case 5:\n        analytics.getInstance().logEvent(\"GroupEventsMapMoved5\");\n        break;\n      case 10:\n        analytics.getInstance().logEvent(\"GroupEventsMapMoved10\");\n        break;\n      case 20:\n        analytics.getInstance().logEvent(\"GroupEventsMapMoved20\");\n        break;\n      case 50:\n        analytics.getInstance().logEvent(\"GroupEventsMapMoved50\");\n        break;\n      case 150:\n        analytics.getInstance().logEvent(\"GroupEventsMapMoved150\");\n        break;\n      case 250:\n        analytics.getInstance().logEvent(\"GroupEventsMapMoved250\");\n        break;\n      case 500:\n        analytics.getInstance().logEvent(\"GroupEventsMapMoved500\");\n        break;\n    }\n\n    this.setState({\n      lat: this.state.mapBox.getCenter().lat.toFixed(4),\n      lng: this.state.mapBox.getCenter().lng.toFixed(4),\n      zoom: this.state.mapBox.getZoom().toFixed(2),\n      canCreateEvent: this.eventCreationZoomMinLevel < this.state.zoom,\n    });\n  }\n\n  private createMapStateContext(): MapStateContext {\n    return {\n      viewState: this.state,\n      setViewState: this.setState.bind(this),\n      user: this.context,\n      props: this.props,\n      triggerStateChange: (newState) => {\n        this.mapState = newState;\n        this.setState(this.state);\n      },\n      updateMap: this.fillMap.bind(this),\n    };\n  }\n\n  private onMapClick(e) {\n    if (appSettings.mode === \"debug\") {\n      console.log(e);\n      console.log({\n        lat: this.state.mapBox.getCenter().lat.toFixed(4),\n        lng: this.state.mapBox.getCenter().lng.toFixed(4),\n        zoom: this.state.mapBox.getZoom().toFixed(2),\n      });\n    }\n\n    this.mapClicksEvents = this.mapClicksEvents + 1;\n    switch (this.mapMovesEvents) {\n      case 1:\n        analytics.getInstance().logEvent(\"GroupEventsMapClicked1\");\n        break;\n      case 5:\n        analytics.getInstance().logEvent(\"GroupEventsMapClicked5\");\n        break;\n      case 10:\n        analytics.getInstance().logEvent(\"GroupEventsMapClicked10\");\n        break;\n      case 15:\n        analytics.getInstance().logEvent(\"GroupEventsMapClicked15\");\n        break;\n      case 20:\n        analytics.getInstance().logEvent(\"GroupEventsMapClicked20\");\n        break;\n      case 50:\n        analytics.getInstance().logEvent(\"GroupEventsMapClicked50\");\n        break;\n      case 100:\n        analytics.getInstance().logEvent(\"GroupEventsMapClicked100\");\n        break;\n    }\n\n    this.mapState = this.mapState.onMapClick(e, this.createMapStateContext());\n    this.setState(this.state);\n  }\n\n  public render() {\n    return (\n      <>\n        <Row>\n          <Col xl={{ span: 18 }} xs={{ span: 24 }}>\n            <div className=\"map-container\" ref={this.mapInstanceRef} />\n          </Col>\n          <Col className=\"map-sidebar\" xl={{ span: 6 }} xs={{ span: 0 }}>\n            {this.mapState.render(this.createMapStateContext())}\n          </Col>\n        </Row>\n        <Row>\n          <Col className=\"map-sidebar\" xl={{ span: 0 }} xs={{ span: 24 }}>\n            {this.mapState.render(this.createMapStateContext())}\n          </Col>\n        </Row>\n      </>\n    );\n  }\n}\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(MapView));\n","export type MapViewState = {\n  eventState: EventState;\n  mapBox: any;\n  mapContainerRef: HTMLDivElement;\n  lng: number;\n  lat: number;\n  zoom: number;\n  isCreatingEvent: boolean;\n  canCreateEvent: boolean;\n  allEvents: Map<string, any>;\n};\n\nexport type EventState = {\n  routeCoordinates: Array<number>;\n  clickCoordinates: Array<number>;\n  clicks: number;\n  routeInstructions: Map<number, any>;\n  summary: string;\n  distance: number;\n  durations: Array<number>;\n};\n\nexport function getDefaultEventState(): EventState {\n  return {\n    routeCoordinates: [],\n    clickCoordinates: [],\n    clicks: 0,\n    routeInstructions: new Map<number, any>(),\n    summary: \"New event\",\n    distance: 0,\n    durations: [],\n  };\n}\n","import * as React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { hot } from \"react-hot-loader\";\nimport { Typography, Row, Col, Button, DatePicker } from \"antd\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useContext, useState } from \"react\";\nimport { auth, firestore } from \"../../../firebase\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { LoginUIContext } from \"../../../providers/LoginUIProvider\";\nimport { geohashForLocation } from \"geofire-common\";\nimport * as moment from \"moment\";\nimport { Input } from \"antd\";\nimport { Form, Radio } from \"antd\";\nimport { analytics } from \"../../../amplitude\";\n\nconst { TextArea } = Input;\n\nfunction getNextSaturday() {\n  let nextSaturday = moment().startOf(\"isoWeek\").add(5, \"day\").add(10, \"hour\");\n  const now = moment();\n  if (nextSaturday < now) {\n    nextSaturday = nextSaturday.add(7, \"day\");\n  }\n  return nextSaturday;\n}\n\nconst CreateEvent = ({ history, location, match, value }) => {\n  const [user, loading, error] = useAuthState(auth);\n  const [isLoginModalVisible, setIsLoginModalVisible] = useContext(\n    LoginUIContext,\n  );\n  const [form] = Form.useForm();\n  const [description, setDescription] = useState(\"\");\n  const [date, setDate] = useState(getNextSaturday());\n\n  function lngLatArrayToDict(a) {\n    const result = [];\n    for (const i in a) {\n      result.push({\n        lng: a[i][0],\n        lat: a[i][1],\n      });\n    }\n    return result;\n  }\n\n  async function saveEventHandler() {\n    if (!loading && user) {\n      let duration = 0;\n      for (const i in value.eventState.durations) {\n        duration += value.eventState.durations[i];\n      }\n\n      const coordinates = lngLatArrayToDict(value.eventState.routeCoordinates);\n      const hash = geohashForLocation([coordinates[0].lat, coordinates[0].lng]);\n      const obj = {\n        created: new Date(),\n        summary: value.eventState.summary,\n        geohash: hash,\n        planned: date.toDate(),\n        ownerId: user.uid,\n        ownerPhotoUrl: user.photoURL,\n        ownerDisplayName: user.displayName,\n        distance: value.eventState.distance,\n        time: duration,\n        description: description,\n        points: coordinates,\n      };\n      const doc = await firestore.collection(\"events\").add(obj);\n      const a = await firestore.collection(\"events\").doc(doc.id).get();\n      value.saveEventHandler(a);\n      analytics.getInstance().logEvent(\"GroupEventCreated\", obj);\n    } else {\n      setIsLoginModalVisible(true);\n    }\n  }\n\n  let duration = 0;\n  for (const i in value.eventState.durations) {\n    duration += value.eventState.durations[i];\n  }\n\n  const formItemLayout = null;\n\n  const onFormUpdate = ({ date, description }) => {\n    if (date) {\n      setDate(date);\n    }\n    if (description) {\n      setDescription(description);\n    }\n  };\n\n  let body = <></>;\n  body = (\n    <Row>\n      <Col span={22} offset={1}>\n        <Typography.Title level={2}>\n          {value.eventState.summary}\n        </Typography.Title>\n      </Col>\n      <Col span={20} offset={1}>\n        <Row>\n          <Col span={10}>Distance</Col>\n          <Col span={10}>Duration</Col>\n        </Row>\n        <Row>\n          <Col span={10}>\n            {(value.eventState.distance / 1000).toFixed(2)} km\n          </Col>\n          <Col span={10}>{Math.floor(duration / 60)} minutes</Col>\n        </Row>\n      </Col>\n      <Col span={20} offset={1}>\n        <Form\n          {...formItemLayout}\n          layout={\"vertical\"}\n          initialValues={{ date: date, description: description }}\n          form={form}\n          onValuesChange={onFormUpdate}\n        >\n          <Form.Item label=\"Date\" name=\"date\">\n            <DatePicker\n              format=\"YYYY-MM-DD HH:mm\"\n              showTime={{ defaultValue: moment(\"00:00:00\", \"HH:mm:ss\") }}\n            />\n          </Form.Item>\n          <Form.Item label=\"Description\" name=\"description\">\n            <TextArea rows={4} />\n          </Form.Item>\n        </Form>\n      </Col>\n      <Col span={20} offset={1}>\n        <Button onClick={value.cancelEventCreationHandler}>Cancel</Button>&nbsp;\n        <Button onClick={saveEventHandler}>Save</Button>\n      </Col>\n    </Row>\n  );\n\n  return <>{body}</>;\n};\n\nexport default hot(module)(withRouter(CreateEvent));\n","import * as React from \"react\";\nimport { mapbox } from \"../../../mapbox\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { Typography } from \"antd\";\nimport CreateEvent from \"./CreateEvent\";\n\nimport {\n  getDefaultEventState,\n} from \"../MapViewState\";\nimport { MapState, MapStateContext } from \"./MapState\";\nimport { ExploreMapState } from \"./ExploreMapState\";\nimport { ViewEventMapState } from \"./ViewEventMapState\";\n\nconst { Title } = Typography;\nexport class CreateEventMapState extends MapState {\n  constructor(triggerStateChange) {\n    super(triggerStateChange);\n  }\n\n  render(context: MapStateContext): JSX.Element {\n    function onCancelEventCreationHandler() {\n      context.viewState.eventState = getDefaultEventState();\n      context.viewState.isCreatingEvent = false;\n\n      if (context.viewState.mapBox.getSource(\"route\")) {\n        context.viewState.mapBox.removeLayer(\"route\");\n        context.viewState.mapBox.removeSource(\"route\");\n      }\n\n      if (context.viewState.mapBox.getSource(\"start\")) {\n        context.viewState.mapBox.removeLayer(\"start\");\n        context.viewState.mapBox.removeSource(\"start\");\n      }\n\n      if (context.viewState.mapBox.getSource(\"end\")) {\n        context.viewState.mapBox.removeLayer(\"end\");\n        context.viewState.mapBox.removeSource(\"end\");\n      }\n\n      this.triggerStateChange(new ExploreMapState(this.triggerStateChange));\n    }\n\n    function onSaveEventHandler(doc) {\n      context.setViewState({\n        isCreatingEvent: false,\n        eventState: getDefaultEventState(),\n      });\n\n      context.viewState.mapBox.removeLayer(\"start\");\n      context.viewState.mapBox.removeSource(\"start\");\n\n      context.viewState.mapBox.removeLayer(\"end\");\n      context.viewState.mapBox.removeSource(\"end\");\n\n      context.viewState.mapBox.removeLayer(\"route\");\n      context.viewState.mapBox.removeSource(\"route\");\n\n      context.viewState.allEvents.set(doc.id, doc);\n\n      context.updateMap();\n\n      this.triggerStateChange(\n        ViewEventMapState.fromUrl(doc.id, this.triggerStateChange),\n      );\n    }\n\n    return (\n      <CreateEvent\n        value={{\n          isCreatingEvent: context.viewState.isCreatingEvent,\n          canCreateEvent: context.viewState.canCreateEvent,\n          eventState: context.viewState.eventState,\n          cancelEventCreationHandler: onCancelEventCreationHandler.bind(this),\n          saveEventHandler: onSaveEventHandler.bind(this),\n        }}\n      />\n    );\n  }\n\n  onMapClick(e: any, context: MapStateContext): MapState {\n    this.addRouteWaypoint(context.viewState, context.setViewState, e.lngLat);\n    return this;\n  }\n\n  static fromOnMapClick(\n    triggerStateChange,\n    context: MapStateContext,\n    e: any,\n  ): MapState {\n    const mapState = new CreateEventMapState(triggerStateChange);\n    mapState.onMapClick(e, context);\n    return mapState;\n  }\n\n  private addRouteWaypoint(viewState, setViewState, lngLat) {\n    const map = viewState.mapBox;\n    if (this.eventCreationZoomMinLevel < viewState.mapBox.getZoom()) {\n      if (!viewState.isCreatingEvent) {\n        setViewState({\n          isCreatingEvent: true,\n          eventState: getDefaultEventState(),\n        });\n      }\n\n      const coords = this.lngLatDictToArray(lngLat);\n      map.getCanvasContainer().style.cursor = \"\";\n\n      if (map.getLayer(\"end\")) {\n        const end = this.getFeatureCollectionDescription(coords);\n        map.getSource(\"end\").setData(end);\n      } else {\n        map.addLayer(this.getMapLayerDescription(\"start\", coords, \"#f30\"));\n        map.addLayer(this.getMapLayerDescription(\"end\", [], \"#3887be\"));\n      }\n      this.getRoute(coords, viewState, setViewState);\n    }\n  }\n\n  private getRoute(end, viewState, setViewState) {\n    viewState.eventState.clickCoordinates.push(end[0]);\n    viewState.eventState.clickCoordinates.push(end[1]);\n\n    const clicksCount = viewState.eventState.clickCoordinates.length;\n    const prevPoint = clicksCount == 2 ? clicksCount - 1 : clicksCount - 3;\n\n    // make directions request using cycling profile\n    const url =\n      \"https://api.mapbox.com/directions/v5/mapbox/walking/\" +\n      viewState.eventState.clickCoordinates[prevPoint - 1] +\n      \",\" +\n      viewState.eventState.clickCoordinates[prevPoint] +\n      \";\" +\n      end[0] +\n      \",\" +\n      end[1] +\n      \"?steps=true&geometries=geojson&access_token=\" +\n      mapbox.accessToken;\n\n    // make an XHR request https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n    const req = new XMLHttpRequest();\n    req.open(\"GET\", url, true);\n    req.onload = function (e) {\n      const json = JSON.parse(e.target.response);\n      const data = json.routes[0];\n      const route = data.geometry.coordinates;\n\n      for (const r in route) {\n        viewState.eventState.routeCoordinates.push(route[r]);\n      }\n\n      const geojson = {\n        type: \"Feature\",\n        properties: {},\n        geometry: {\n          type: \"LineString\",\n          coordinates: viewState.eventState.routeCoordinates,\n        },\n      };\n\n      // if the route already exists on the map, we'll reset it using setData\n      if (viewState.mapBox.getSource(\"route\")) {\n        viewState.mapBox.getSource(\"route\").setData(geojson);\n      }\n      // otherwise, we'll make a new request\n      else {\n        viewState.mapBox.addLayer({\n          id: \"route\",\n          type: \"line\",\n          source: {\n            type: \"geojson\",\n            data: {\n              type: \"Feature\",\n              properties: {},\n              geometry: {\n                type: \"LineString\",\n                coordinates: viewState.eventState.routeCoordinates,\n              },\n            },\n          },\n          layout: {\n            \"line-join\": \"round\",\n            \"line-cap\": \"round\",\n          },\n          paint: {\n            \"line-color\": \"#3887be\",\n            \"line-width\": 5,\n            \"line-opacity\": 0.75,\n          },\n        });\n      }\n\n      viewState.eventState.clicks += 1;\n      viewState.eventState.routeInstructions.set(\n        viewState.eventState.clicks,\n        data.legs[0],\n      );\n      viewState.eventState.durations.push(data.duration);\n\n      for (const [key, instruction] of viewState.eventState.routeInstructions) {\n        if (instruction.summary !== \"\") {\n          viewState.eventState.summary = instruction.summary;\n          break;\n        }\n      }\n\n      let distance = 0;\n      for (const [key, instruction] of viewState.eventState.routeInstructions) {\n        distance += instruction.distance;\n      }\n      viewState.eventState.distance = distance;\n\n      setViewState({ eventState: viewState.eventState });\n    };\n    req.send();\n  }\n\n  private getMapLayerDescription(name, coords, color) {\n    return {\n      id: name,\n      type: \"circle\",\n      source: {\n        type: \"geojson\",\n        data: this.getFeatureCollectionDescription(coords),\n      },\n      paint: {\n        \"circle-radius\": 10,\n        \"circle-color\": color,\n      },\n    };\n  }\n\n  private lngLatDictToArray(coordsObj) {\n    const coords = Object.keys(coordsObj).map(function (key) {\n      return coordsObj[key];\n    });\n    return coords;\n  }\n\n  private getFeatureCollectionDescription(coords) {\n    return {\n      type: \"FeatureCollection\",\n      features: [\n        {\n          type: \"Feature\",\n          properties: {},\n          geometry: {\n            type: \"Point\",\n            coordinates: coords,\n          },\n        },\n      ],\n    };\n  }\n}\n","import * as React from \"react\";\nimport { createRef } from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter } from \"react-router-dom\";\nimport { mapbox } from \"../../../mapbox\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { Typography, Row, Col, Button, Space } from \"antd\";\nimport CreateEvent from \"./CreateEvent\";\nimport { auth, firebase, firestore } from \"../../../firebase\";\n\nimport {\n  MapViewState,\n  EventState,\n  getDefaultEventState,\n} from \"../MapViewState\";\nimport { MapState, MapStateContext } from \"./MapState\";\nimport { ViewEventMapState } from \"./ViewEventMapState\";\nimport { CreateEventMapState } from \"./CreateEventMapState\";\n\nconst { Title } = Typography;\n\nexport class ExploreMapState extends MapState {\n  render(context: MapStateContext): JSX.Element {\n    let body = <></>;\n    if (context.viewState.canCreateEvent) {\n      body = (\n        <>\n          <Row>\n            <Col offset={1} span={22} style={{ textAlign: \"center\" }}>\n              &nbsp;\n            </Col>\n          </Row>\n          <Row>\n            <Col offset={1} span={22} style={{ textAlign: \"center\" }}>\n              <Typography.Title level={2}>\n                Click to create your hike\n              </Typography.Title>\n            </Col>\n          </Row>\n        </>\n      );\n    } else {\n      body = (\n        <>\n          <Row>\n            <Col offset={1} span={22} style={{ textAlign: \"center\" }}>\n              &nbsp;\n            </Col>\n          </Row>\n          <Row>\n            <Col offset={1} span={22} style={{ textAlign: \"center\" }}>\n              <Typography.Title level={2}>Explore hikes</Typography.Title>\n            </Col>\n          </Row>\n          <Row>\n            <Col offset={1} span={22} style={{ textAlign: \"center\" }}>\n              <Typography.Title level={4}>or</Typography.Title>\n            </Col>\n          </Row>\n          <Row>\n            <Col offset={1} span={22} style={{ textAlign: \"center\" }}>\n              <Typography.Title level={2}>\n                Zoom in to create your hike\n              </Typography.Title>\n            </Col>\n          </Row>\n        </>\n      );\n    }\n\n    return (\n      <>\n        {body}\n        <Row>\n          <Col offset={1} span={22}>\n            We've created this app to help people find hiking buddies.\n            <br />\n            Explore hikes on the map or create your own hike for friends.\n            <br />\n            <br />\n            For questions -{\" \"}\n            <a href={\"mailto:joinmeonhike@gmail.com\"}>joinmeonhike@gmail.com</a>\n            .\n          </Col>\n        </Row>\n      </>\n    );\n  }\n  static fromOnMapClick(triggerStateChange, context: MapStateContext, e: any) {\n    const mapState = new ExploreMapState(triggerStateChange);\n    return mapState.onMapClick(e, context);\n  }\n\n  onMapClick(e, context: MapStateContext): MapState {\n    const features = context.viewState.mapBox.queryRenderedFeatures(e.point, {\n      layers: [\"route_circles\"],\n    });\n    if (0 < features.length) {\n      return ViewEventMapState.fromOnMapClick(\n        this.triggerStateChange,\n        context,\n        features,\n      );\n    } else {\n      if (context.viewState.canCreateEvent) {\n        return CreateEventMapState.fromOnMapClick(\n          this.triggerStateChange,\n          context,\n          e,\n        );\n      } else {\n        return this;\n      }\n    }\n  }\n}\n","import {\n  MapViewState,\n  EventState,\n  getDefaultEventState,\n} from \"../MapViewState\";\nimport { MapState, MapStateContext } from \"./MapState\";\nimport { ExploreMapState } from \"./ExploreMapState\";\nimport { CreateEventMapState } from \"./CreateEventMapState\";\nimport { Typography, Row, Col } from \"antd\";\nimport React from \"react\";\nimport moment from \"moment\";\nimport { Comment, Avatar, Form, Button, List, Input, Spin } from \"antd\";\nimport TextArea from \"antd/lib/input/TextArea\";\n\nexport class LoadingMapState extends MapState {\n  render(context: MapStateContext): JSX.Element {\n    return (\n      <>\n        <Row>\n          <Col span={22} offset={1} style={{ textAlign: \"center\" }}>\n            &nbsp;\n          </Col>\n        </Row>\n        <Row>\n          <Col span={22} offset={1} style={{ textAlign: \"center\" }}>\n            <Spin size={\"large\"}></Spin>\n          </Col>\n        </Row>\n      </>\n    );\n  }\n\n  onMapClick(e: any, context: MapStateContext): MapState {\n    return new ExploreMapState(this.triggerStateChange);\n  }\n}\n","import {\n  MapViewState,\n  EventState,\n  getDefaultEventState,\n} from \"../MapViewState\";\n\nexport type MapStateContext = {\n  viewState: MapViewState;\n  setViewState: any;\n  user: any;\n  triggerStateChange: any;\n  props: any;\n  updateMap: any;\n};\n\nexport abstract class MapState {\n  protected eventCreationZoomMinLevel = 11.7;\n  protected triggerStateChange;\n\n  constructor(triggerStateChange) {\n    this.triggerStateChange = triggerStateChange;\n  }\n\n  abstract onMapClick(e, context: MapStateContext): MapState;\n  abstract render(context: MapStateContext): JSX.Element;\n}\n","import * as React from \"react\";\nimport * as _ from \"lodash\";\nimport { withRouter } from \"react-router-dom\";\nimport { hot } from \"react-hot-loader\";\nimport { Typography, Row, Col, Button, DatePicker, Avatar } from \"antd\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { auth, firestore } from \"../../../firebase\";\nimport firebaseApp from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { LoginUIContext } from \"../../../providers/LoginUIProvider\";\nimport { geohashForLocation } from \"geofire-common\";\nimport moment from \"moment\";\nimport { Input } from \"antd\";\nimport { Form, Spin } from \"antd\";\nimport { Comment, Tooltip, List } from \"antd\";\nimport { FacebookProvider, CommentsCount, Comments } from \"react-facebook\";\n\nconst { TextArea } = Input;\n\nconst ViewAllComments = ({ history, location, match, value }) => {\n  const [user, loading, error] = useAuthState(auth);\n  const [isLoginModalVisible, setIsLoginModalVisible] = useContext(\n    LoginUIContext,\n  );\n  const [comments, setComments] = useState([]);\n\n  function pleaseLogin() {\n    setIsLoginModalVisible(true);\n  }\n\n  if (loading) {\n    return (\n      <>\n        <Row>\n          <Col span={24} style={{ textAlign: \"center\" }}>\n            <Spin size={\"large\"}></Spin>\n          </Col>\n        </Row>\n      </>\n    );\n  }\n\n  if (!loading && !user) {\n    return (\n      <>\n        <Row>\n          <Col span={23} style={{display: \"flex\"}}>\n            <FacebookProvider appId=\"746596102691405\">\n              Please log in to see all&nbsp;\n              <CommentsCount href={window.location.href} />\n              &nbsp;comments.\n            </FacebookProvider>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={24}>\n            &nbsp;\n          </Col>\n        </Row>\n        <Row>\n          <Col span={24}>\n            <Button onClick={pleaseLogin} type=\"primary\">\n              Log in\n            </Button>\n          </Col>\n        </Row>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <Row>\n          <Col span={24}>\n            <FacebookProvider appId=\"746596102691405\">\n              <Comments width={380} href={window.location.href} />\n            </FacebookProvider>\n          </Col>\n        </Row>\n      </>\n    );\n  }\n};\n\nexport default hot(module)(withRouter(ViewAllComments));\n","import { withRouter, Link } from \"react-router-dom\";\nimport { MapState, MapStateContext } from \"./MapState\";\nimport { ExploreMapState } from \"./ExploreMapState\";\nimport { Typography, Row, Col } from \"antd\";\nimport * as React from \"react\";\nimport moment from \"moment\";\nimport { Comment, Tooltip } from \"antd\";\nimport ViewAllComments from \"./ViewAllComments\";\nimport { analytics } from \"../../../amplitude\";\n\nfunction dictToLngLatArray(a) {\n  const result = [];\n  for (const i in a) {\n    result.push([a[i].lng, a[i].lat]);\n  }\n  return result;\n}\n\nexport class ViewEventMapState extends MapState {\n  eventId: null;\n  addRoute: false;\n\n  render(context: MapStateContext): JSX.Element {\n    const doc = context.viewState.allEvents.get(this.eventId);\n\n    if (!doc) {\n      return (\n        <Row>\n          <Col span={22} offset={1}>\n            <Typography.Title level={2}>\n              Can't find this event.\n            </Typography.Title>\n          </Col>\n        </Row>\n      );\n    }\n\n    const comment = doc.get(\"description\")\n      ? doc.get(\"description\")\n      : \"Please join me for a hike.\";\n\n    if (this.addRoute) {\n      window.history.pushState(null, null, \"#/events/\" + this.eventId);\n\n      if (!context.viewState.mapBox.getSource(\"current-selected-route\")) {\n        context.viewState.mapBox.addLayer({\n          id: \"current-selected-route\",\n          type: \"line\",\n          source: {\n            type: \"geojson\",\n            data: {\n              type: \"Feature\",\n              properties: {},\n              geometry: {\n                type: \"LineString\",\n                coordinates: dictToLngLatArray(doc.get(\"points\")),\n              },\n            },\n          },\n          layout: {\n            \"line-join\": \"round\",\n            \"line-cap\": \"round\",\n          },\n          paint: {\n            \"line-color\": \"#3887be\",\n            \"line-width\": 5,\n            \"line-opacity\": 0.75,\n          },\n        });\n      }\n\n      this.addRoute = false;\n    }\n\n    const privateMessageUrl = \"/profile/\" + doc.get(\"ownerId\");\n\n    return (\n      <Row>\n        <Col span={22} offset={1}>\n          <Typography.Title level={2}>{doc.get(\"summary\")}</Typography.Title>\n        </Col>\n        <Col span={21} offset={1}>\n          <Row>\n            <Col span={7}>Distance</Col>\n            <Col span={7}>Duration</Col>\n            <Col span={7}>Date</Col>\n          </Row>\n          <Row>\n            <Col span={7}>{(doc.get(\"distance\") / 1000).toFixed(2)} km</Col>\n            <Col span={7}>{moment.duration(Math.floor(doc.get(\"time\") / 60), \"minutes\").humanize()}</Col>\n            <Col span={7}>\n              {moment(doc.get(\"planned\").toDate()).format(\"Do MMM YYYY\")}\n            </Col>\n          </Row>\n        </Col>\n        <Col\n          span={23}\n          offset={1}\n          style={{\n            overflowY: \"auto\",\n            height: \"80vh\",\n          }}\n        >\n          <Comment\n            author={doc.get(\"ownerDisplayName\")}\n            avatar={doc.get(\"ownerPhotoUrl\")}\n            content={\n              <div>\n                {comment}\n                <br />\n                <Link to={privateMessageUrl}>Send private message</Link>\n              </div>\n            }\n            datetime={\n              <Tooltip\n                title={moment(doc.get(\"created\").toDate()).format(\n                  \"YYYY-MM-DD HH:mm:ss\",\n                )}\n              >\n                <span>{moment(doc.get(\"created\").toDate()).fromNow()}</span>\n              </Tooltip>\n            }\n          />\n          <ViewAllComments\n            value={{\n              viewState: context,\n              doc: doc,\n            }}\n          />\n        </Col>\n      </Row>\n    );\n  }\n\n  static fromOnMapClick(\n    triggerStateChange,\n    context: MapStateContext,\n    features,\n  ): MapState {\n    const mapState = new ViewEventMapState(triggerStateChange);\n    mapState.eventId = features[0].properties.eventId;\n\n    analytics.getInstance().logEvent(\"ViewEvent\", { eventId: mapState.eventId });\n\n    const doc = context.viewState.allEvents.get(mapState.eventId);\n    if (doc) {\n      window.history.pushState(null, null, \"#/events/\" + mapState.eventId);\n\n      if (!context.viewState.mapBox.getSource(\"current-selected-route\")) {\n        context.viewState.mapBox.addLayer({\n          id: \"current-selected-route\",\n          type: \"line\",\n          source: {\n            type: \"geojson\",\n            data: {\n              type: \"Feature\",\n              properties: {},\n              geometry: {\n                type: \"LineString\",\n                coordinates: dictToLngLatArray(doc.get(\"points\")),\n              },\n            },\n          },\n          layout: {\n            \"line-join\": \"round\",\n            \"line-cap\": \"round\",\n          },\n          paint: {\n            \"line-color\": \"#3887be\",\n            \"line-width\": 5,\n            \"line-opacity\": 0.75,\n          },\n        });\n      }\n    }\n\n    return mapState;\n  }\n\n  onMapClick(e: any, context: MapStateContext): MapState {\n    window.history.pushState(null, null, \"#\");\n    if (context.viewState.mapBox.getSource(\"current-selected-route\")) {\n      context.viewState.mapBox.removeLayer(\"current-selected-route\");\n      context.viewState.mapBox.removeSource(\"current-selected-route\");\n    }\n    return ExploreMapState.fromOnMapClick(this.triggerStateChange, context, e);\n  }\n\n  static fromUrl(eventId: any, context: MapStateContext, triggerStateChange) {\n    analytics.getInstance().logEvent(\"ViewEvent\", { eventId: eventId });\n    const mapState = new ViewEventMapState(triggerStateChange);\n    mapState.eventId = eventId;\n    mapState.addRoute = true;\n    return mapState;\n  }\n}\n","import * as React from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter } from \"react-router-dom\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { Typography, Row, Col, Button } from \"antd\";\n\nconst { Title } = Typography;\n\ntype HelpViewState = {};\n\nclass HelpView extends React.Component<Record<string, unknown>, HelpViewState> {\n  public readonly state: HelpViewState = {};\n\n  constructor(props) {\n    super(props);\n  }\n\n  public render() {\n    return (\n      <>\n        <Row>\n          <Col span={18}>Help</Col>\n          <Col span={6}></Col>\n        </Row>\n      </>\n    );\n  }\n}\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(HelpView));\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./ChatBotView.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","export default __webpack_public_path__ + \"img/db0dd16356982cc14b10553911a1d592.png\";","import * as React from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\n\nimport \"./ChatBotView.scss\";\nimport { Image, Input, Spin, Alert, Col, Row, Typography, Space } from \"antd\";\nimport { useContext, useState, useEffect } from \"react\";\n//import * as zipcodes from \"zipcodes\";\n\nimport { analytics, analyticsWrapper } from \"../../../amplitude\";\n\n//https://lucasbassetti.com.br/react-simple-chatbot/#/docs/installation\nimport ChatBot from \"react-simple-chatbot\";\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport MapExample from \"./imgs/map-example.png\";\n\nimport styled from \"styled-components\";\n\nconst Header = styled.div`\n  align-items: center;\n  background: #6e48aa;\n  color: #fff;\n  display: flex;\n  fill: #fff;\n  height: 56px;\n  justify-content: space-between;\n  padding: 0 10px;\n`;\n\nconst HeaderTitle = styled.h2`\n  margin: 0;\n  font-size: 16px;\n  color: #fff;\n`;\n\nconst HeaderIcon = styled.a`\n  cursor: pointer;\n`;\n\nconst CloseIcon = () => (\n  <svg\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12\n      13.41 17.59 19 19 17.59 13.41 12z\"\n    />\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  </svg>\n);\n\nconst ChatBotView = () => {\n  const [shouldRedirectToMap, setShouldRedirectToMap] = useState(false);\n  const steps = [\n    {\n      message:\n        \"Hi! I'm your personal virtual assistant. In my database, I have more than 100 group hikes for the upcoming week.\",\n      trigger: onNextStepTrigger,\n    },\n    {\n      message:\n        \"I'm ready to help you find your next perfect hike. After a few questions, I'll identify your profile and find matches. Do you want to continue?\",\n      trigger: onNextStepTrigger,\n      delay: 4000,\n    },\n    {\n      options: [\n        {\n          value: \"Yes\",\n          label: \"Yes\",\n          trigger: onNextStepTrigger,\n        },\n        {\n          value: \"No\",\n          label: \"No\",\n          trigger: onNextStepTrigger,\n        },\n      ],\n    },\n    {\n      message: \"What is your name?\",\n      trigger: onNextStepTrigger,\n    },\n    {\n      user: true,\n      trigger: onNextStepTrigger,\n    },\n    {\n      message: \"Hi {previousValue}, nice to meet you!\",\n      trigger: onNextStepTrigger,\n    },\n    {\n      message: \"When are you planning to hike?\",\n      trigger: onNextStepTrigger,\n    },\n    {\n      options: [\n        {\n          value: \"ThisMonth\",\n          label: \"This month\",\n          trigger: onNextStepTrigger,\n        },\n        {\n          value: \"NextMonth\",\n          label: \"Next month\",\n          trigger: onNextStepTrigger,\n        },\n        {\n          value: \"Later\",\n          label: \"Later\",\n          trigger: onNextStepTrigger,\n        },\n      ],\n    },\n    {\n      message: \"Why do you hike?\",\n      trigger: onNextStepTrigger,\n    },\n    {\n      user: true,\n      trigger: onNextStepTrigger,\n    },\n    {\n      message: \"Where do you like to hike?\",\n      trigger: onNextStepTrigger,\n    },\n    {\n      options: [\n        {\n          value: \"Forests\",\n          label: \"Forests\",\n          trigger: onNextStepTrigger,\n        },\n        {\n          value: \"Mountains\",\n          label: \"Mountains\",\n          trigger: onNextStepTrigger,\n        },\n        {\n          value: \"Lakes\",\n          label: \"Lakes\",\n          trigger: onNextStepTrigger,\n        },\n        {\n          value: \"Hills\",\n          label: \"Hills\",\n          trigger: onNextStepTrigger,\n        },\n        {\n          value: \"Rivers\",\n          label: \"Rivers\",\n          trigger: onNextStepTrigger,\n        },\n        {\n          value: \"Beaches\",\n          label: \"Beaches\",\n          trigger: onNextStepTrigger,\n        },\n      ],\n    },\n    {\n      message: \"Where do you like to start your hikes, please enter location?\",\n      trigger: onNextStepTrigger,\n    },\n    {\n      user: true,\n      trigger: onNextStepTrigger,\n    },\n    {\n      message:\n        \"While we are searching, I'll provide you with a quick introduction of our platform.\",\n      trigger: onNextStepTrigger,\n      delay: 2500,\n    },\n    {\n      component: (\n        <>\n          <Image width={200} src={MapExample} />\n        </>\n      ),\n      trigger: onNextStepTrigger,\n      delay: 3500,\n    },\n    {\n      message:\n        \"On the map we show blue markers with upcoming hiking events. When you click on the marker you will see details of the event.\",\n      trigger: onNextStepTrigger,\n      delay: 4500,\n    },\n    {\n      message:\n        \"We are still searching... Please provide your email for notifications.\",\n      trigger: onNextStepTrigger,\n    },\n    {\n      user: true,\n      trigger: onNextStepTrigger,\n    },\n    {\n      message:\n        \"Unfortunately, we can't find any hikes for you. We will redirect you to the map for manual exploration. Buy!\",\n      trigger: redirectToMap,\n      delay: 4000,\n    },\n    {\n      message: \"In 5 seconds we will redirect you to the map.\",\n      end: true,\n    },\n  ];\n\n  let id = 1;\n  for (const step in steps) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    steps[step].id = \"\" + id;\n    id = id + 1;\n  }\n\n  useEffect(() => {\n    analyticsWrapper.logEvent(\"ChatBot11July2021VersionStarted\", {});\n  }, []);\n\n  function onNextStepTrigger(e) {\n    let lastStepName = \"\";\n    let previousStepName;\n    for (const i in e.steps) {\n      previousStepName = lastStepName;\n      lastStepName = i;\n    }\n    analyticsWrapper.logEvent(\n      \"ChatBotStep\" + e.steps[lastStepName].id + \"Triggered\",\n      {\n        step: e.steps[lastStepName],\n        value: e.value,\n        previousStep: e.steps[previousStepName],\n      },\n    );\n\n    if (lastStepName === \"3\" && e.value === \"No\") {\n      analyticsWrapper.logEvent(\"ChatBotSkipClicked\", {\n        target: \"NoAnswer\",\n      });\n      setShouldRedirectToMap(true);\n    }\n\n    const nextStepId = parseInt(e.steps[lastStepName].id) + 1 + \"\";\n    return nextStepId;\n  }\n\n  function redirectToMap(e) {\n    onNextStepTrigger(e);\n    setTimeout(function () {\n      setShouldRedirectToMap(true);\n    }, 6000);\n  }\n\n  function onClosedIconClicked() {\n    analyticsWrapper.logEvent(\"ChatBotSkipClicked\", {\n      target: \"CloseIcon\",\n    });\n    setShouldRedirectToMap(true);\n  }\n\n  if (shouldRedirectToMap) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <div className={\"container\"}>\n      <Row>\n        <Col style={{ margin: \"0 auto\" }}>\n          <ChatBot\n            headerTitle={\"JoinMeOnHike.com\"}\n            headerComponent={\n              <Header className=\"rsc-header\">\n                <HeaderTitle className=\"rsc-header-title\">\n                  JoinMeOnHike.com\n                </HeaderTitle>\n                <HeaderIcon\n                  className=\"rsc-header-close-button\"\n                  onClick={onClosedIconClicked}\n                >\n                  <CloseIcon />\n                </HeaderIcon>\n              </Header>\n            }\n            steps={steps}\n          />\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(ChatBotView));\n","import * as React from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\n\nimport \"./CreateEventFastView.scss\";\nimport { Button, Col, Row, Typography, Space } from \"antd\";\nimport { createRef, useState } from \"react\";\n\nimport { analytics } from \"../../../amplitude\";\nimport { auth, firestore } from \"../../../firebase\";\nimport { mapbox } from \"../../../mapbox\";\nimport { UserContext } from \"../../../providers/UserProvider\";\nimport * as moment from \"moment\";\nimport {\n  EmailShareButton,\n  FacebookMessengerShareButton,\n  FacebookShareButton,\n  HatenaShareButton,\n  InstapaperShareButton,\n  LineShareButton,\n  LinkedinShareButton,\n  LivejournalShareButton,\n  MailruShareButton,\n  OKShareButton,\n  PinterestShareButton,\n  PocketShareButton,\n  RedditShareButton,\n  TelegramShareButton,\n  TumblrShareButton,\n  TwitterShareButton,\n  ViberShareButton,\n  VKShareButton,\n  WhatsappShareButton,\n  WorkplaceShareButton,\n} from \"react-share\";\nimport {\n  EmailIcon,\n  FacebookIcon,\n  FacebookMessengerIcon,\n  HatenaIcon,\n  InstapaperIcon,\n  LineIcon,\n  LinkedinIcon,\n  LivejournalIcon,\n  MailruIcon,\n  OKIcon,\n  PinterestIcon,\n  PocketIcon,\n  RedditIcon,\n  TelegramIcon,\n  TumblrIcon,\n  TwitterIcon,\n  ViberIcon,\n  VKIcon,\n  WeiboIcon,\n  WhatsappIcon,\n  WorkplaceIcon,\n} from \"react-share\";\n\ntype CreateEventFastViewState = {\n  mapBox: any;\n  mapContainerRef: HTMLDivElement;\n  lng: number;\n  lat: number;\n  zoom: number;\n  showNext: false;\n  showFinish: false;\n  newEvent: any;\n  clickedCoordinates: any;\n};\n\nclass CreateEventFastView extends React.Component<\n  Record<string, unknown>,\n  CreateEventFastViewState\n> {\n  public readonly state: CreateEventFastViewState = {\n    mapBox: null,\n    mapContainerRef: null,\n    lng: -122.44,\n    lat: 37.7508,\n    zoom: 11.26,\n    clickedCoordinates: null,\n    showFinish: false,\n    showNext: false,\n    newEvent: null,\n  };\n\n  private mapInstanceRef = createRef<HTMLDivElement>();\n  static contextType = UserContext;\n\n  constructor(props) {\n    super(props);\n\n    this.onMapMove = this.onMapMove.bind(this);\n    this.onMapClick = this.onMapClick.bind(this);\n    this.onMapBoxRender = this.onMapBoxRender.bind(this);\n    this.onMapLoad = this.onMapLoad.bind(this);\n    this.onNextClick = this.onNextClick.bind(this);\n    this.onFacebookShareButtonClick = this.onFacebookShareButtonClick.bind(\n      this,\n    );\n    this.onFacebookMessengerShareButtonClick = this.onFacebookMessengerShareButtonClick.bind(\n      this,\n    );\n    this.onWhatsappShareButtonClick = this.onWhatsappShareButtonClick.bind(\n      this,\n    );\n    this.onEmailShareButtonClick = this.onEmailShareButtonClick.bind(this);\n  }\n\n  public componentDidMount() {\n    const map = new mapbox.Map({\n      container: this.mapInstanceRef.current,\n      //style: 'mapbox://styles/mapbox/outdoors-v11',\n      style: {\n        version: 8,\n        sources: {\n          osm: {\n            type: \"raster\",\n            tiles: [\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\"],\n            tileSize: 256,\n            attribution:\n              'GroupEvents tiles by <a target=\"_top\" rel=\"noopener\" href=\"https://tile.openstreetmap.org/\">OpenStreetMap tile servers</a>, under the <a target=\"_top\" rel=\"noopener\" href=\"https://operations.osmfoundation.org/policies/tiles/\">tile usage policy</a>. Data by <a target=\"_top\" rel=\"noopener\" href=\"http://openstreetmap.org\">OpenStreetMap</a>',\n          },\n        },\n        layers: [\n          {\n            id: \"osm\",\n            type: \"raster\",\n            source: \"osm\",\n          },\n        ],\n      },\n      center: [this.state.lng, this.state.lat],\n      zoom: this.state.zoom,\n    });\n\n    map.on(\"move\", this.onMapMove);\n    map.on(\"click\", this.onMapClick);\n    map.on(\"load\", this.onMapLoad);\n\n    map.addControl(new mapbox.NavigationControl());\n    map.addControl(new mapbox.ScaleControl({ position: \"bottom-right\" }));\n\n    this.setState({ mapBox: map });\n  }\n\n  private onMapBoxRender() {}\n\n  public componentWillUnmount() {\n    this.state.mapBox.off(\"move\", this.onMapMove);\n    this.state.mapBox.off(\"click\", this.onMapClick);\n    this.state.mapBox.off(\"render\", this.onMapBoxRender);\n  }\n\n  private lngLatArrayToDict(a) {\n    const result = [];\n    for (const i in a) {\n      result.push({\n        lng: a[i][0],\n        lat: a[i][1],\n      });\n    }\n    return result;\n  }\n\n  private getNextSaturday() {\n    let nextSaturday = moment()\n      .startOf(\"isoWeek\")\n      .add(5, \"day\")\n      .add(10, \"hour\");\n    const now = moment();\n    if (nextSaturday < now) {\n      nextSaturday = nextSaturday.add(7, \"day\");\n    }\n    return nextSaturday;\n  }\n\n  private async onNextClick(e) {\n    const coordinates = this.lngLatArrayToDict([this.state.clickedCoordinates]);\n    const obj = {\n      created: new Date(),\n      summary: \"\",\n      geohash: \"\",\n      planned: this.getNextSaturday().toDate(),\n      ownerId: this.context.uid,\n      ownerPhotoUrl: this.context.photoURL,\n      ownerDisplayName: this.context.displayName,\n      distance: 0,\n      time: 0,\n      description: \"\",\n      points: coordinates,\n    };\n    const doc = await firestore.collection(\"events\").add(obj);\n    const a = await firestore.collection(\"events\").doc(doc.id).get();\n    this.setState({ showNext: false, showFinish: true, newEvent: a });\n    analytics.getInstance().logEvent(\"GroupEventCreated\", obj);\n  }\n\n  private onMapLoad() {\n    this.state.mapBox.addSource(\"selected-point-source\", {\n      type: \"geojson\",\n      data: {\n        type: \"FeatureCollection\",\n        features: [\n          {\n            type: \"Feature\",\n            properties: {},\n            geometry: {\n              type: \"Point\",\n              coordinates: [],\n            },\n          },\n        ],\n      },\n    });\n    this.state.mapBox.addLayer({\n      id: \"selected-point-layer\",\n      type: \"circle\",\n      source: \"selected-point-source\",\n      paint: {\n        \"circle-color\": \"#4264fb\",\n        \"circle-radius\": 8,\n        \"circle-stroke-width\": 2,\n        \"circle-stroke-color\": \"#ffffff\",\n      },\n    });\n  }\n\n  private onMapClick(e) {\n    const lngLat = e.lngLat;\n    const coords = Object.keys(lngLat).map(function (key) {\n      return lngLat[key];\n    });\n\n    this.setState({ clickedCoordinates: coords, showNext: true });\n\n    const current = {\n      type: \"FeatureCollection\",\n      features: [\n        {\n          type: \"Feature\",\n          properties: {},\n          geometry: {\n            type: \"Point\",\n            coordinates: coords,\n          },\n        },\n      ],\n    };\n    this.state.mapBox.getSource(\"selected-point-source\").setData(current);\n  }\n\n  private onMapMove(e) {}\n\n  private onEmailShareButtonClick(e) {\n    analytics.getInstance().logEvent(\"EmailShareButtonClicked\");\n  }\n\n  private onWhatsappShareButtonClick(e) {\n    analytics.getInstance().logEvent(\"WhatsappShareButtonClicked\");\n  }\n  private onFacebookMessengerShareButtonClick(e) {\n    analytics.getInstance().logEvent(\"FacebookMessengerShareButtonClicked\");\n  }\n  private onFacebookShareButtonClick(e) {\n    analytics.getInstance().logEvent(\"FacebookShareButtonClicked\");\n  }\n\n  public render() {\n    let next = <></>;\n    if (this.state.showNext) {\n      next = (\n        <Row>\n          <Col className={\"text-aligned-center\"} offset={1} span={22}>\n            When you are ready press next &nbsp;&nbsp;&nbsp;&nbsp;\n            <Button type=\"primary\" onClick={this.onNextClick}>\n              Next\n            </Button>\n          </Col>\n        </Row>\n      );\n    }\n\n    let finish = <></>;\n    if (this.state.showFinish) {\n      const eventUrl =\n        \"https://joinmeonhike.com/#/events/\" + this.state.newEvent.id;\n      const quote = \"Join me on my next hike! @joinmeonhike\";\n      finish = (\n        <>\n          <Row>\n            <Col className={\"text-aligned-center\"} offset={1} span={22}>\n              Well done! You've just created your first group hike. Now it's\n              time to share your hike with friends.\n              <br />\n              <Link to={\"events/\" + this.state.newEvent.id}>{eventUrl}</Link>\n            </Col>\n          </Row>\n          <Row>\n            <Col className={\"text-aligned-center\"} offset={1} span={22}>\n              Or\n            </Col>\n          </Row>\n          <Row>\n            <Col className={\"text-aligned-center\"} offset={1} span={22}>\n              Explore other <Link to={\"/\"}>events</Link>\n            </Col>\n          </Row>\n          <Row>\n            <Col>&nbsp;</Col>\n          </Row>\n          <Row>\n            <Col offset={12} span={12}>\n              <FacebookShareButton\n                url={eventUrl}\n                quote={quote}\n                onClick={this.onFacebookShareButtonClick}\n              >\n                <FacebookIcon size={32} round />\n              </FacebookShareButton>\n              &nbsp;\n              <FacebookMessengerShareButton\n                url={eventUrl}\n                appId=\"146284127425525\"\n                onClick={this.onFacebookMessengerShareButtonClick}\n              >\n                <FacebookMessengerIcon size={32} round />\n              </FacebookMessengerShareButton>\n              &nbsp;\n              <WhatsappShareButton\n                url={eventUrl}\n                title={quote}\n                onClick={this.onWhatsappShareButtonClick}\n                separator=\":: \"\n              >\n                <WhatsappIcon size={32} round />\n              </WhatsappShareButton>\n              &nbsp;\n              <EmailShareButton\n                url={eventUrl}\n                subject={quote}\n                onClick={this.onEmailShareButtonClick}\n                body=\"\"\n              >\n                <EmailIcon size={32} round />\n              </EmailShareButton>\n            </Col>\n          </Row>\n        </>\n      );\n    }\n\n    return (\n      <div className={\"container\"}>\n        <Row>\n          <Col className={\"text-aligned-center\"} offset={1} span={22}>\n            <Typography.Title level={2}>\n              Mark a start point for your next hike\n            </Typography.Title>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={24}>\n            <div\n              className=\"create-event-fast-map-container\"\n              ref={this.mapInstanceRef}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col className={\"text-aligned-center\"} offset={1} span={22}>\n            &nbsp;\n          </Col>\n        </Row>\n        {next}\n        {finish}\n      </div>\n    );\n  }\n}\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(CreateEventFastView));\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./CreateEventLandingView.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as React from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter, Redirect } from \"react-router-dom\";\n\nimport \"./CreateEventLandingView.scss\";\nimport { Button, Col, Row, Typography, Space } from \"antd\";\nimport { useState } from \"react\";\n\nimport { analytics } from \"../../../amplitude\";\n\nconst CreateEventLandingView = () => {\n  const [shouldRedirectToMap, setShouldRedirectToMap] = useState(false);\n  const [\n    shouldRedirectToCreatEventFast,\n    setShouldRedirectToCreatEventFast,\n  ] = useState(false);\n\n  function nextClick() {\n    analytics.getInstance().logEvent(\"CreateEventLandingNextClicked\");\n    setShouldRedirectToCreatEventFast(true);\n  }\n\n  function skipClick() {\n    analytics.getInstance().logEvent(\"CreateEventLandingSkipClicked\");\n    setShouldRedirectToMap(true);\n  }\n\n  if (shouldRedirectToMap) {\n    return <Redirect to=\"/\" />;\n  }\n\n  if (shouldRedirectToCreatEventFast) {\n    return <Redirect to=\"/login-landing\" />;\n  }\n\n  return (\n    <div className={\"container\"}>\n      <Row>\n        <Col className={\"text-aligned-center\"} offset={1} span={22}>\n          <Typography.Title level={2}>\n            JoinMeOnHike helps you find hiking buddies\n          </Typography.Title>\n        </Col>\n      </Row>\n      <Row>\n        <Col className={\"text-aligned-center\"} offset={1} span={22}>\n          <Typography.Title level={3}>\n            Let's create your first group hike\n          </Typography.Title>\n        </Col>\n      </Row>\n      <Row>\n        <Col className={\"text-aligned-center\"} offset={1} span={22}>\n          <Space size={\"large\"} align={\"end\"} direction=\"horizontal\">\n            <Button type=\"link\" onClick={skipClick}>\n              Skip\n            </Button>\n            <div>&nbsp;</div>\n            <Button type=\"primary\" onClick={nextClick}>\n              Next\n            </Button>\n          </Space>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(CreateEventLandingView));\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./LoginLandingView.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as React from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter, Redirect } from \"react-router-dom\";\n\nimport \"./LoginLandingView.scss\";\nimport { Col, Row, Typography } from \"antd\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { auth, firebase } from \"../../../firebase\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\n\nconst LoginLandingView = () => {\n  const [user, loading, error] = useAuthState(auth);\n\n  const uiConfig = {\n    signInFlow: \"popup\",\n    signInSuccessUrl: \"/\",\n    signInOptions: [\n      firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      firebase.auth.EmailAuthProvider.PROVIDER_ID,\n    ],\n    callbacks: {\n      signInSuccessWithAuthResult: () => {\n        return false;\n      },\n    },\n  };\n\n  if (user && !loading) {\n    return <Redirect to=\"/create-event-fast\" />;\n  }\n\n  return (\n    <div className={\"container\"}>\n      <Row>\n        <Col className={\"text-aligned-center\"} offset={1} span={22}>\n          <Typography.Title level={2}>\n            But before we continue please sign in\n          </Typography.Title>\n        </Col>\n      </Row>\n      <Row>\n        <Col className={\"text-aligned-center\"} offset={1} span={22}>\n          <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={auth} />\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(LoginLandingView));\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./FindGroupEventsView.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as React from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\n\nimport \"./FindGroupEventsView.scss\";\nimport { Input, Spin, Alert, Col, Row, Typography, Space } from \"antd\";\nimport { useState } from \"react\";\n\nimport { analytics } from \"../../../amplitude\";\n\nconst FindGroupEventsView = () => {\n  const [shouldRedirectToMap, setShouldRedirectToMap] = useState(false);\n  const [shouldShowProgress, setShouldShowProgress] = useState(false);\n  const [searchLocation, setSearchLocation] = useState(\"\");\n  const [shouldShowResult, setShouldShowResult] = useState(false);\n  const [shouldShowEmailSubmitted, setShouldShowEmailSubmitted] = useState(\n    false,\n  );\n\n  function onSearch(e) {\n    analytics\n      .getInstance()\n      .logEvent(\"FindGroupEventsViewSearchClicked\", { search: e });\n    setShouldShowProgress(true);\n    setShouldShowResult(false);\n    setSearchLocation(e);\n    setShouldShowEmailSubmitted(false);\n    setTimeout(function () {\n      setShouldShowProgress(false);\n      setShouldShowResult(true);\n    }, 1500);\n  }\n\n  function onSubmitEmail(e) {\n    analytics\n      .getInstance()\n      .logEvent(\"FindGroupEventsViewEmailSubmitted\", { email: e });\n\n    setShouldShowEmailSubmitted(true);\n  }\n\n  if (shouldRedirectToMap) {\n    return <Redirect to=\"/\" />;\n  }\n\n  let emailSubmitted = (\n    <>\n      <Row>\n        <Col className={\"text-aligned-center\"} offset={1} span={22}>\n          You can provide your email below and we let you know when events will\n          be available.\n        </Col>\n      </Row>\n      <Row>\n        <Col className={\"text-aligned-center\"} offset={1} span={22}>\n          <Space size={\"large\"} align={\"end\"} direction=\"horizontal\">\n            <Input.Search\n              placeholder=\"Email\"\n              allowClear\n              enterButton=\"Submit\"\n              size=\"large\"\n              onSearch={onSubmitEmail}\n            />\n          </Space>\n        </Col>\n      </Row>\n    </>\n  );\n  if (shouldShowEmailSubmitted) {\n    emailSubmitted = (\n      <>\n        <Row>\n          <Col className={\"text-aligned-center\"} offset={1} span={22}>\n            &nbsp;\n          </Col>\n        </Row>\n        <Row>\n          <Col className={\"text-aligned-center\"} offset={1} span={22}>\n            Your email has been submitted successfully. Explore all <Link to={\"/\"}>events</Link>.\n          </Col>\n        </Row>\n      </>\n    );\n  }\n\n  let result = <></>;\n  if (shouldShowResult) {\n    result = (\n      <>\n        <Row>\n          <Col className={\"text-aligned-center\"} offset={1} span={22}>\n            &nbsp;\n          </Col>\n        </Row>\n        <Row>\n          <Col className={\"text-aligned-center\"} offset={5} span={14}>\n            <Alert\n              message={\n                <>\n                  <Row>\n                    <Col className={\"text-aligned-center\"} offset={1} span={22}>\n                      {\"Unfortunately, we found nothing for \" + searchLocation}\n                    </Col>\n                  </Row>\n                  {emailSubmitted}\n                </>\n              }\n              type=\"error\"\n            />\n          </Col>\n        </Row>\n      </>\n    );\n  }\n\n  let progress = <></>;\n  if (shouldShowProgress) {\n    progress = (\n      <>\n        <Row>\n          <Col className={\"text-aligned-center\"} offset={1} span={22}>\n            &nbsp;\n          </Col>\n        </Row>\n        <Row>\n          <Col className={\"text-aligned-center\"} offset={1} span={22}>\n            <Spin size={\"large\"} />\n          </Col>\n        </Row>\n      </>\n    );\n  }\n\n  return (\n    <div className={\"container\"}>\n      <Row>\n        <Col className={\"text-aligned-center\"} offset={1} span={22}>\n          <Typography.Title level={2}>\n            JoinMeOnHike helps you find hiking buddies\n          </Typography.Title>\n        </Col>\n      </Row>\n      <Row>\n        <Col className={\"text-aligned-center\"} offset={1} span={22}>\n          <Typography.Title level={3}>\n            Enter search location to find upcoming hiking events\n          </Typography.Title>\n        </Col>\n      </Row>\n      <Row>\n        <Col className={\"text-aligned-center\"} offset={1} span={22}>\n          <Space size={\"large\"} align={\"end\"} direction=\"horizontal\">\n            <Input.Search\n              placeholder=\"enter location\"\n              allowClear\n              enterButton=\"Search\"\n              disabled={shouldShowProgress}\n              size=\"large\"\n              onSearch={onSearch}\n            />\n          </Space>\n        </Col>\n      </Row>\n      {progress}\n      {result}\n    </div>\n  );\n};\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(FindGroupEventsView));\n","import * as React from \"react\";\nimport { createRef } from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./MapView.scss\";\nimport { mapbox } from \"../../mapbox\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { Typography, Row, Col } from \"antd\";\nconst { Title } = Typography;\nimport { Radio } from \"antd\";\nimport { UserContext } from \"../../providers/UserProvider\";\n\nimport { analytics } from \"../../amplitude\";\n\n// https://github.com/mourner/suncalc\nimport * as SunCalc from \"suncalc\";\n// https://momentjs.com/docs/\nimport * as moment from \"moment-timezone\";\n\n// https://github.com/lhz516/react-h5-audio-player#readme\nimport AudioPlayer from \"react-h5-audio-player\";\nimport \"react-h5-audio-player/src/styles.scss\";\n\n// https://github.com/darkskyapp/tz-lookup-oss/\nimport * as tzlookup from \"tz-lookup\";\n\ntype GeoJsonProperties = {\n  name: string;\n  osm_id: string;\n  osm_type: string;\n  natural: string;\n  type: string;\n  full_id: string;\n  wikidata: string;\n  surface: string;\n  access: string;\n  wikipedia: string;\n  attribution: string;\n  boundary: string;\n  leisure: string;\n  park_type: string;\n  csp_unitcode: string;\n  center: string;\n};\n\ntype MapViewStateForMeditation = {\n  mapBox: any;\n  mapContainerRef: HTMLDivElement;\n  lng: number;\n  lat: number;\n  zoom: number;\n  selectedArea: GeoJsonProperties;\n  selectedDate: Date;\n  clickedCoordinates: any;\n};\n\n//https://github.com/firebase/firebaseui-web-react\n//https://github.com/alex3165/react-mapbox-gl\nclass MapView extends React.Component<\n  Record<string, unknown>,\n  MapViewStateForMeditation\n> {\n  private meditations = [\n    {\n      audioSrc: \"01_Breathing_Meditation.mp3\",\n      description: \"\",\n      title: \"Breathing\",\n    },\n    {\n      audioSrc: \"02_Breath_Sound_Body_Meditation.mp3\",\n      description: \"\",\n      title: \"Breath and Sound Body\",\n    },\n    {\n      audioSrc: \"03_Complete_Meditation_Instructions.mp3\",\n      description: \"\",\n      title: \"Instructions\",\n    },\n    {\n      audioSrc: \"04_Meditation_for_Working_with_Difficulties.mp3\",\n      description: \"\",\n      title: \"Working with difficulties\",\n    },\n    {\n      audioSrc: \"05_Loving_Kindness_Meditation.mp3\",\n      description: \"\",\n      title: \"Loving Kindness\",\n    },\n    {\n      audioSrc: \"Body-Scan-Meditation.mp3\",\n      description: \"\",\n      title: \"Body Scan\",\n    },\n    {\n      audioSrc: \"Body-Scan-for-Sleep.mp3\",\n      description: \"\",\n      title: \"Body Scan for sleep\",\n    },\n    {\n      audioSrc: \"Body-Sound-Meditation.mp3\",\n      description: \"\",\n      title: \"Body Sound\",\n    },\n  ];\n\n  public readonly state: MapViewStateForMeditation = {\n    mapBox: null,\n    mapContainerRef: null,\n    lng: -122.44,\n    lat: 37.7508,\n    zoom: 11.26,\n    selectedArea: null,\n    selectedDate: new Date(),\n    clickedCoordinates: null,\n  };\n\n  static contextType = UserContext;\n  private mapInstanceRef = createRef<HTMLDivElement>();\n  private sunriseLineRef = createRef<SVGLineElement>();\n  private sunriseIconRef = createRef<SVGSVGElement>();\n  private sunsetLineRef = createRef<SVGLineElement>();\n  private sunsetIconRef = createRef<SVGSVGElement>();\n\n  constructor(props) {\n    super(props);\n\n    this.onMapMove = this.onMapMove.bind(this);\n    this.onMapClick = this.onMapClick.bind(this);\n    this.onMapLoad = this.onMapLoad.bind(this);\n    this.onMapRender = this.onMapRender.bind(this);\n    this.onDateChanged = this.onDateChanged.bind(this);\n    this.onPlayMeditation = this.onPlayMeditation.bind(this);\n\n    analytics.getInstance().logEvent(\"MeditationMapView\");\n  }\n\n  public componentDidMount() {\n    const map = new mapbox.Map({\n      container: this.mapInstanceRef.current,\n      style: \"mapbox://styles/mapbox/outdoors-v11\",\n      center: [this.state.lng, this.state.lat],\n      zoom: this.state.zoom,\n    });\n\n    map.on(\"move\", this.onMapMove);\n    map.on(\"click\", this.onMapClick);\n    map.on(\"load\", this.onMapLoad);\n    map.on(\"render\", this.onMapRender);\n\n    map.addControl(new mapbox.NavigationControl());\n    map.addControl(new mapbox.ScaleControl({ position: \"bottom-right\" }));\n\n    this.setState({ mapBox: map });\n  }\n\n  private onMapLoad() {\n    this.state.mapBox.addSource(\"meditation-places\", {\n      type: \"geojson\",\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      data: window.appSettings.placesJsonUrl,\n    });\n  }\n\n  private onMapRender() {\n    if (this.state.mapBox.getSource(\"meditation-places\")) {\n      if (this.state.mapBox.isSourceLoaded(\"meditation-places\")) {\n        if (!this.state.mapBox.getLayer(\"maine\")) {\n          this.state.mapBox.addLayer({\n            id: \"maine\",\n            type: \"fill\",\n            source: \"meditation-places\", // reference the data source\n            layout: {},\n            paint: {\n              \"fill-color\": \"#ffff00\", // blue color fill\n              \"fill-opacity\": 0.3,\n            },\n            filter: [\"==\", \"$type\", \"Polygon\"],\n          });\n          // Add a black outline around the polygon.\n          this.state.mapBox.addLayer({\n            id: \"outline\",\n            type: \"line\",\n            source: \"meditation-places\",\n            layout: {},\n            paint: {\n              \"line-color\": \"#f00\",\n              \"line-width\": 3,\n            },\n            filter: [\"==\", \"$type\", \"Polygon\"],\n          });\n\n          this.state.mapBox.addLayer({\n            id: \"circles\",\n            type: \"circle\",\n            source: \"meditation-places\",\n            paint: {\n              \"circle-radius\": 6,\n              \"circle-color\": \"#B42222\",\n            },\n            filter: [\"==\", \"$type\", \"Point\"],\n            minzoom: 10,\n          });\n\n          this.state.mapBox.addLayer({\n            id: \"circles-hidden-for-better-touch\",\n            type: \"circle\",\n            source: \"meditation-places\",\n            paint: {\n              \"circle-radius\": 12,\n              \"circle-color\": \"#B42222\",\n              \"circle-opacity\": 0,\n            },\n            filter: [\"==\", \"$type\", \"Point\"],\n            minzoom: 10,\n          });\n        }\n      }\n    }\n\n    if (this.state.selectedArea) {\n      const center = JSON.parse(this.state.selectedArea.center);\n      this.setState({\n        clickedCoordinates: this.state.mapBox.project([center[0], center[1]]),\n      });\n    }\n  }\n\n  public componentWillUnmount() {\n    this.state.mapBox.off(\"move\", this.onMapMove);\n    this.state.mapBox.off(\"click\", this.onMapClick);\n  }\n\n  private onPlayMeditation(e) {\n    analytics\n      .getInstance()\n      .logEvent(\"MeditationPlayClicked\", { src: e.target.currentSrc });\n  }\n\n  private onMapMove(e) {\n    this.setState({\n      lat: this.state.mapBox.getCenter().lat.toFixed(4),\n      lng: this.state.mapBox.getCenter().lng.toFixed(4),\n      zoom: this.state.mapBox.getZoom().toFixed(2),\n    });\n  }\n\n  private onMapClick(e) {\n    const features = this.state.mapBox.queryRenderedFeatures(e.point, {\n      layers: [\"maine\", \"circles\", \"circles-hidden-for-better-touch\"],\n    });\n    if (0 < features.length) {\n      const now = new Date();\n      const tomorrow = moment(now).add(1, \"d\");\n      this.setState({\n        selectedArea: features[0].properties,\n        clickedCoordinates: e.point,\n        selectedDate: tomorrow.toDate(),\n      });\n\n      analytics\n        .getInstance()\n        .logEvent(\"ViewMeditationPlace\", features[0].properties);\n    } else {\n      this.sunriseLineRef.current.style.display = \"none\";\n      this.sunriseIconRef.current.style.display = \"none\";\n      this.sunsetIconRef.current.style.display = \"none\";\n      this.sunsetLineRef.current.style.display = \"none\";\n\n      const now = new Date();\n      const tomorrow = moment(now).add(1, \"d\");\n\n      this.setState({\n        selectedArea: null,\n        clickedCoordinates: null,\n        selectedDate: tomorrow.toDate(),\n      });\n    }\n  }\n\n  private drawLine(line, icon, cx, cy, dx, dy) {\n    line.style.display = \"\";\n\n    this.val(line.x1, cx);\n    this.val(line.y1, cy);\n    this.val(line.x2, cx + dx);\n    this.val(line.y2, cy + dy);\n\n    if (icon) {\n      icon.style.display = \"block\";\n      this.val(\n        icon.x,\n        this.val(line.x2, null) - this.val(icon.width, null) / 2,\n      );\n      this.val(\n        icon.y,\n        this.val(line.y2, null) - this.val(icon.height, null) / 2,\n      );\n    }\n  }\n\n  private val(attr, value) {\n    if (value !== null) {\n      attr.baseVal.value = value;\n    } else {\n      return attr.baseVal.value;\n    }\n  }\n\n  private drawGroundLine(line, icon, angle, pitchCos, cx, cy, pad) {\n    const sunSin = Math.cos(angle);\n    const sunCos = Math.sin(angle);\n    const r =\n      Math.min(Math.abs(cx / sunSin), Math.abs(cy / sunCos / pitchCos)) + pad;\n\n    this.drawLine(line, icon, cx, cy, 40 * sunSin, 40 * sunCos * pitchCos);\n  }\n\n  private onDateChanged(e) {\n    this.setState({\n      selectedDate: moment(new Date()).add(e.target.value, \"days\").toDate(),\n    });\n  }\n\n  public render() {\n    let selected = (\n      <Row>\n        <Col offset={1} span={22}>\n          <Typography.Title level={2}>\n            Touch an area on the map above to see available meditations\n          </Typography.Title>\n        </Col>\n        <Col offset={1} span={22}>\n          This map contains meditation places such as beaches, peeks and etc.\n          Email{\" \"}\n          <a href={\"mailto:mindfulhikingcoach@gmail.com\"}>\n            mindfulhikingcoach@gmail.com\n          </a>\n          .\n        </Col>\n        <Col offset={1} span={22}></Col>\n      </Row>\n    );\n\n    if (this.state.selectedArea) {\n      const center = JSON.parse(this.state.selectedArea.center);\n      const time = SunCalc.getTimes(\n        this.state.selectedDate,\n        center[1],\n        center[0],\n      );\n      const sunriseTime = time.sunrise;\n      const sunsetTime = time.sunset;\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      const basePathForMeditations = window.appSettings.basePath;\n\n      const tr = this.state.mapBox.transform;\n      const cx = this.state.clickedCoordinates.x;\n      const cy = this.state.clickedCoordinates.y;\n\n      const loc = { lat: center[1], lng: center[0] };\n      const sunriseAngle =\n        SunCalc.getPosition(sunriseTime, loc.lat, loc.lng).azimuth +\n        Math.PI / 2 +\n        tr.angle;\n      const sunsetAngle =\n        SunCalc.getPosition(sunsetTime, loc.lat, loc.lng).azimuth +\n        Math.PI / 2 +\n        tr.angle;\n      const pitchCos = Math.cos((tr.pitch * Math.PI) / 180);\n\n      this.drawGroundLine(\n        this.sunriseLineRef.current,\n        this.sunriseIconRef.current,\n        sunriseAngle,\n        pitchCos,\n        cx,\n        cy,\n        -30,\n      );\n\n      this.drawGroundLine(\n        this.sunsetLineRef.current,\n        this.sunsetIconRef.current,\n        sunsetAngle,\n        pitchCos,\n        cx,\n        cy,\n        -30,\n      );\n\n      const timezone = tzlookup(center[1], center[0]);\n\n      const now = new Date();\n      const defaultValue = moment(this.state.selectedDate).diff(\n        moment(now),\n        \"days\",\n      );\n      const nowForDisplay = moment(now);\n\n      selected = (\n        <Row>\n          <Col offset={1} span={22}>\n            <Typography.Title level={2}>\n              {this.state.selectedArea.name} (\n              {this.state.selectedArea.natural.replace(\"_\", \" \")})\n            </Typography.Title>\n          </Col>\n          <Col offset={1} span={22}>\n            <Radio.Group\n              defaultValue={defaultValue}\n              buttonStyle=\"solid\"\n              onChange={this.onDateChanged}\n            >\n              {[1, 2, 3, 4, 5, 6, 7].map((m, i) => {\n                return (\n                  <Radio.Button value={i} key={\"dates-\" + i}>\n                    {nowForDisplay.add(1, \"days\").format(\"Do of MMM\")}\n                  </Radio.Button>\n                );\n              })}\n            </Radio.Group>\n          </Col>\n          <Col offset={1} span={22}>\n            &nbsp;\n          </Col>\n          <Col offset={1} span={22}>\n            Sunrise: {moment(sunriseTime).tz(timezone).format(\"LT\")}\n          </Col>\n          <Col offset={1} span={22}>\n            Sunset: {moment(sunsetTime).tz(timezone).format(\"LT\")}\n          </Col>\n          <Col offset={1} span={22}>\n            &nbsp;\n          </Col>\n          <Col offset={1} span={22}>\n            <Typography.Title level={3}>Meditations</Typography.Title>\n          </Col>\n          {this.meditations.map((m, i) => {\n            return (\n              <Col offset={1} span={22} key={`audio-key-${i}`}>\n                <Typography.Title level={4} key={`audio-title-${i}`}>\n                  {m.title}\n                </Typography.Title>\n                <AudioPlayer\n                  preload={\"none\"}\n                  key={`audio-player-${i}`}\n                  src={basePathForMeditations + m.audioSrc}\n                  showJumpControls={false}\n                  autoPlayAfterSrcChange={false}\n                  onPlay={this.onPlayMeditation}\n                />\n                <br />\n              </Col>\n            );\n          })}\n          <Col offset={1} span={22}>\n            Meditation copyright -{\" \"}\n            <a href={\"https://www.uclahealth.org/marc/mindful-meditations\"}>\n              https://www.uclahealth.org/marc/mindful-meditations\n            </a>\n          </Col>\n        </Row>\n      );\n    }\n\n    return (\n      <>\n        <Row className={\"meditation-map-view\"}>\n          <Col span={24}>\n            <div\n              className=\"meditation-map-container\"\n              ref={this.mapInstanceRef}\n            />\n            <svg id=\"viz\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\n              <line id=\"sun-dir\" />\n              <line id=\"sunrise\" ref={this.sunriseLineRef} />\n              <line id=\"sunset\" ref={this.sunsetLineRef} />\n              <line id=\"sun-pos\" />\n              <svg\n                id=\"eye\"\n                display={\"none\"}\n                width=\"24\"\n                height=\"24\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path d=\"M1,12S5,4,12,4s11,8,11,8-4,8-11,8S1,12,1,12Z\" />\n                <circle cx=\"12\" cy=\"12\" r=\"3\" />\n              </svg>\n              <svg\n                id=\"sun\"\n                display={\"none\"}\n                width=\"32\"\n                height=\"32\"\n                viewBox=\"0 0 24 24\"\n              >\n                <circle cx=\"12\" cy=\"12\" r=\"5\" />\n                <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\" />\n                <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\" />\n                <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\" />\n                <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\" />\n                <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\" />\n                <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\" />\n                <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\" />\n                <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\" />\n              </svg>\n              <svg\n                id=\"sunrise-icon\"\n                ref={this.sunriseIconRef}\n                width=\"24\"\n                height=\"24\"\n                viewBox=\"0 0 24 24\"\n                display={\"none\"}\n              >\n                <path d=\"M17,18A5,5,0,0,0,7,18\" />\n                <line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"9\" />\n                <line x1=\"4.22\" y1=\"10.22\" x2=\"5.64\" y2=\"11.64\" />\n                <line x1=\"1\" y1=\"18\" x2=\"3\" y2=\"18\" />\n                <line x1=\"21\" y1=\"18\" x2=\"23\" y2=\"18\" />\n                <line x1=\"18.36\" y1=\"11.64\" x2=\"19.78\" y2=\"10.22\" />\n                <line x1=\"23\" y1=\"22\" x2=\"1\" y2=\"22\" />\n                <polyline points=\"8 6 12 2 16 6\" />\n              </svg>\n              <svg\n                id=\"sunset-icon\"\n                width=\"24\"\n                ref={this.sunsetIconRef}\n                height=\"24\"\n                viewBox=\"0 0 24 24\"\n                display={\"none\"}\n              >\n                <path d=\"M17,18A5,5,0,0,0,7,18\" />\n                <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"2\" />\n                <line x1=\"4.22\" y1=\"10.22\" x2=\"5.64\" y2=\"11.64\" />\n                <line x1=\"1\" y1=\"18\" x2=\"3\" y2=\"18\" />\n                <line x1=\"21\" y1=\"18\" x2=\"23\" y2=\"18\" />\n                <line x1=\"18.36\" y1=\"11.64\" x2=\"19.78\" y2=\"10.22\" />\n                <line x1=\"23\" y1=\"22\" x2=\"1\" y2=\"22\" />\n                <polyline points=\"16 5 12 9 8 5\" />\n              </svg>\n            </svg>\n          </Col>\n          <Col span={24}>{selected}</Col>\n        </Row>\n      </>\n    );\n  }\n}\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(MapView));\n","import * as React from \"react\";\nimport { createRef, useContext, useEffect, useState } from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter } from \"react-router-dom\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { Typography, Row, Col, Button, Spin, Avatar } from \"antd\";\nimport { auth, firestore } from \"../firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { LoginUIContext } from \"../providers/LoginUIProvider\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport moment from \"moment\";\n\nconst MyProfileView = () => {\n  const [user, loading, error] = useAuthState(auth);\n  const [isLoginModalVisible, setIsLoginModalVisible] = useContext(\n    LoginUIContext,\n  );\n  const [profile, setProfile] = useState(null);\n\n  function pleaseLogin() {\n    setIsLoginModalVisible(true);\n  }\n\n  useEffect(() => {\n    if (user === null) {\n      return;\n    }\n    firestore\n      .collection(\"profiles\")\n      .doc(user.uid)\n      .get()\n      .then((p) => {\n        setProfile(p);\n      });\n  }, [user]);\n\n  if (!loading && !user) {\n    return (\n      <div style={{ backgroundColor: \"#fff\" }}>\n        <Row>\n          <Col span={24}>&nbsp;</Col>\n        </Row>\n        <Row>\n          <Col span={24}>&nbsp;</Col>\n        </Row>\n        <Row>\n          <Col span={10}></Col>\n          <Col span={4}>\n            <Button onClick={pleaseLogin} type=\"primary\">\n              Log in\n            </Button>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={24}>&nbsp;</Col>\n        </Row>\n      </div>\n    );\n  }\n\n  if (!profile) {\n    return (\n      <div style={{ backgroundColor: \"#fff\" }}>\n        <Row>\n          <Col span={24}>&nbsp;</Col>\n        </Row>\n        <Row>\n          <Col span={24}>&nbsp;</Col>\n        </Row>\n        <Row>\n          <Col span={10} />\n          <Col span={4}>\n            <Spin size=\"large\" />\n          </Col>\n        </Row>\n      </div>\n    );\n  } else {\n    return (\n      <div style={{ backgroundColor: \"#fff\" }}>\n        <Row>\n          <Col span={4} />\n          <Col span={16}>&nbsp;</Col>\n        </Row>\n        <Row>\n          <Col span={4} />\n          <Col span={2}>\n            <Avatar\n              size={{ xs: 24, sm: 32, md: 40, lg: 64, xl: 80, xxl: 100 }}\n              src={profile.get(\"photoUrl\")}\n            />\n          </Col>\n          <Col span={14}>\n            <Typography.Title level={3}>\n              {\" \"}\n              {profile.get(\"displayName\")}\n            </Typography.Title>\n            On site since{\" \"}\n            {moment(profile.get(\"created\").toDate()).format(\"Do MMM YYYY\")}\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n};\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(MyProfileView));\n","import * as React from \"react\";\nimport { createRef, useContext, useEffect, useState } from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter } from \"react-router-dom\";\nimport { mapbox } from \"../mapbox\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport {\n  Typography,\n  Row,\n  Col,\n  Button,\n  Tooltip,\n  Spin,\n  Avatar,\n  Form,\n  Comment,\n  Input,\n  List,\n} from \"antd\";\nimport { auth, firebase, firestore } from \"../firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { LoginUIContext } from \"../providers/LoginUIProvider\";\nimport * as moment from \"moment\";\n\nconst { Title } = Typography;\nconst { TextArea } = Input;\n\nconst OtherProfileView = ({ history, location, match }) => {\n  const [user, loading, error] = useAuthState(auth);\n  const [isLoginModalVisible, setIsLoginModalVisible] = useContext(\n    LoginUIContext,\n  );\n  const [comments, setComments] = useState([]);\n  const [profile, setProfile] = useState(null);\n  const [form] = Form.useForm();\n  const [comment, setComment] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n\n  const handleChange = ({ comment }) => {\n    if (comment) {\n      setComment(comment);\n    }\n  };\n\n  async function handleSubmit() {\n    if (!comment) {\n      return;\n    }\n\n    if (!loading && user) {\n      setSubmitting(true);\n\n      const obj = {\n        value: comment,\n        ownerPhotoUrl: user.photoURL,\n        ownerDisplayName: user.displayName,\n        fromUserId: user.uid,\n        toUserId: profile.id,\n        created: new Date(),\n      };\n      const doc = await firestore.collection(\"messages\").add(obj);\n\n      const newComments = comments;\n      newComments.push({\n        author: obj.ownerDisplayName,\n        avatar: obj.ownerPhotoUrl,\n        content: obj.value,\n        created: obj.created,\n        datetime: (\n          <Tooltip title={moment(obj.created).format(\"YYYY-MM-DD HH:mm:ss\")}>\n            <span>{moment(obj.created).fromNow()}</span>\n          </Tooltip>\n        ),\n      });\n\n      setComment(\"\");\n      setComments(newComments);\n      setSubmitting(false);\n      form.resetFields();\n    } else {\n      setIsLoginModalVisible(true);\n    }\n  }\n\n  useEffect(() => {\n    if (user === null) {\n      return;\n    }\n\n    const { profileId } = match.params;\n    firestore\n      .collection(\"profiles\")\n      .doc(profileId)\n      .get()\n      .then((p) => {\n        setProfile(p);\n\n        firestore\n          .collection(\"messages\")\n          .where(\"toUserId\", \"==\", p.id)\n          .where(\"fromUserId\", \"==\", user.uid)\n          .get()\n          .then((snap) => {\n            const c = [];\n            for (const doc of snap.docs) {\n              c.push({\n                author: doc.get(\"ownerDisplayName\"),\n                avatar: doc.get(\"ownerPhotoUrl\"),\n                content: doc.get(\"value\"),\n                created: doc.get(\"created\"),\n                datetime: (\n                  <Tooltip\n                    title={moment(doc.get(\"created\").toDate()).format(\n                      \"YYYY-MM-DD HH:mm:ss\",\n                    )}\n                  >\n                    <span>{moment(doc.get(\"created\").toDate()).fromNow()}</span>\n                  </Tooltip>\n                ),\n              });\n            }\n            setComments(\n              c.sort(function (a, b) {\n                if (a.created > b.created) {\n                  return 1;\n                }\n                if (a.created < b.created) {\n                  return -1;\n                }\n                return 0;\n              }),\n            );\n          });\n      });\n  }, [user]);\n\n  function pleaseLogin() {\n    setIsLoginModalVisible(true);\n  }\n\n  if (!loading && !user) {\n    {\n      return (\n        <div style={{ backgroundColor: \"#fff\" }}>\n          <Row>\n            <Col span={24}>&nbsp;</Col>\n          </Row>\n          <Row>\n            <Col span={24}>&nbsp;</Col>\n          </Row>\n          <Row>\n            <Col span={10}></Col>\n            <Col span={4}>\n              <Button onClick={pleaseLogin} type=\"primary\">\n                Log in\n              </Button>\n            </Col>\n          </Row>\n        </div>\n      );\n    }\n  }\n\n  if (null != profile) {\n    let commentHtml = <></>;\n    if (comments.length !== 0) {\n      commentHtml = (\n        <Row>\n          <Col span={4}></Col>\n          <Col span={16}>\n            <List\n              dataSource={comments}\n              itemLayout=\"horizontal\"\n              renderItem={(props) => <Comment {...props} />}\n            />\n          </Col>\n        </Row>\n      );\n    }\n\n    return (\n      <div style={{ backgroundColor: \"#fff\" }}>\n        <Row>\n          <Col span={4}></Col>\n          <Col span={16}>&nbsp;</Col>\n        </Row>\n        <Row>\n          <Col span={4}></Col>\n          <Col span={2}>\n            <Avatar\n              size={{ xs: 24, sm: 32, md: 40, lg: 64, xl: 80, xxl: 100 }}\n              src={profile.get(\"photoUrl\")}\n            />\n          </Col>\n          <Col span={14}>\n            <Typography.Title level={3}>\n              {\" \"}\n              {profile.get(\"displayName\")}\n            </Typography.Title>\n            On site since{\" \"}\n            {moment(profile.get(\"created\").toDate()).format(\"Do MMM YYYY\")}\n          </Col>\n        </Row>\n        <Row>\n          <Col span={4}></Col>\n          <Col span={16}>&nbsp;</Col>\n        </Row>\n        <Row>\n          <Col span={4}></Col>\n          <Col span={16}>\n            <Typography.Title level={4}>Messages</Typography.Title>\n          </Col>\n        </Row>\n        {commentHtml}\n        <Row>\n          <Col span={4}></Col>\n          <Col span={16}>\n            <Comment\n              avatar={<Avatar src={user.photoURL} alt={user.displayName} />}\n              content={\n                <>\n                  <Form\n                    layout={\"vertical\"}\n                    initialValues={{ comment: comment }}\n                    form={form}\n                    onValuesChange={handleChange}\n                  >\n                    <Form.Item name=\"comment\">\n                      <TextArea rows={4} />\n                    </Form.Item>\n                  </Form>\n                  <Button\n                    htmlType=\"submit\"\n                    loading={submitting}\n                    onClick={handleSubmit}\n                    type=\"primary\"\n                  >\n                    Send\n                  </Button>\n                </>\n              }\n            />\n          </Col>\n        </Row>\n      </div>\n    );\n  } else {\n    return (\n      <div style={{ backgroundColor: \"#fff\" }}>\n        <Row>\n          <Col span={24}>&nbsp;</Col>\n        </Row>\n        <Row>\n          <Col span={24}>&nbsp;</Col>\n        </Row>\n        <Row>\n          <Col span={10}></Col>\n          <Col span={4}>\n            <Spin size=\"large\" />\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n};\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(OtherProfileView));\n","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./SurveyView.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import * as React from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter, Redirect } from \"react-router-dom\";\n\nimport \"./SurveyView.scss\";\nimport { Button, Col, Radio, Row, Progress, Typography, Space } from \"antd\";\nimport { useState } from \"react\";\n\nimport { analytics } from \"../amplitude\";\n\nconst SurveyView = () => {\n  const [shouldRedirectToMap, setShouldRedirectToMap] = useState(false);\n  const [shouldRedirectToFinish, setShouldRedirectToFinish] = useState(false);\n  const [questionIndex, setQuestionIndex] = useState(0);\n\n  const answers = [];\n\n  const questions = [\n    {\n      title: \"Are you looking for a hiking group?\",\n      options: [\"Yes\", \"No\"],\n      id: 1,\n    },\n    {\n      title: \"How often do you go hiking?\",\n      options: [\n        \"Every weekend\",\n        \"Once a month\",\n        \"Once in 3 month\",\n        \"Couple of times a year\",\n        \"Never\",\n      ],\n      id: 2,\n    },\n    {\n      title: \"Are you going to go hiking in the next 2 weeks?\",\n      options: [\"Yes\", \"No\"],\n      id: 3,\n    },\n  ];\n\n  function nextClick() {\n    analytics.getInstance().logEvent(\"SurveyNextClicked\");\n    if (questionIndex === questions.length - 1) {\n      setShouldRedirectToFinish(true);\n    } else {\n      setQuestionIndex(questionIndex + 1);\n    }\n  }\n\n  function logAnswer(e) {\n    const answer = {\n      question: questions[questionIndex].title,\n      answer: e.target.value,\n      id: questions[questionIndex].id,\n    };\n    analytics.getInstance().logEvent(\"SurveyAnswer\", answer);\n    answers.push({ id: answer.id, answer: answer.answer });\n  }\n\n  function skipClick() {\n    analytics.getInstance().logEvent(\"SurveySkipClicked\");\n    setShouldRedirectToMap(true);\n  }\n\n  if (shouldRedirectToMap) {\n    return <Redirect to=\"/\" />;\n  }\n\n  if (shouldRedirectToFinish) {\n    return <Redirect to=\"/finish-survey\" />;\n  }\n\n  return (\n    <div className={\"container\"}>\n      <Row>\n        <Col offset={1} span={22}>\n          <Progress\n            showInfo={false}\n            percent={(questionIndex / questions.length) * 100}\n          />\n        </Col>\n      </Row>\n      <Row>\n        <Col offset={1} span={22}>\n          <Typography.Title title={\"2\"}>\n            {questions[questionIndex].title}\n          </Typography.Title>\n        </Col>\n      </Row>\n      <Row>\n        <Col offset={1} span={22}>\n          <Radio.Group onChange={logAnswer}>\n            <Space direction=\"vertical\">\n              {questions[questionIndex].options.map((a, i) => {\n                return (\n                  <Radio key={\"radio-\" + i} value={a}>\n                    {a}\n                  </Radio>\n                );\n              })}\n            </Space>\n          </Radio.Group>\n        </Col>\n      </Row>\n      <Row>\n        <Col offset={1} span={22}>\n          &nbsp;\n        </Col>\n      </Row>\n      <Row>\n        <Col offset={1} span={10}>\n          <Space size={\"large\"} align={\"end\"} direction=\"horizontal\">\n            <Button type=\"link\" onClick={skipClick}>\n              Skip\n            </Button>\n            <div>&nbsp;</div>\n            <Button type=\"primary\" onClick={nextClick}>\n              Next\n            </Button>\n          </Space>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(SurveyView));\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../node_modules/css-loader/dist/cjs.js!../node_modules/antd/dist/antd.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".app{font-family:helvetica, arial, sans-serif;padding:2em;border:5px solid red}.app p{background-color:#ff0}.pl-10{padding-left:10px}.pl-5{padding-left:5px}.pl-15{padding-left:15px}div.react-flow__handle{width:12px;height:12px}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./App.scss\"],\"names\":[],\"mappings\":\"AAGA,KACI,wCAAyC,CACzC,WAAY,CACZ,oBAJc,CAClB,OAKQ,qBAPS,CAQZ,OAID,iBAAkB,CACrB,MAGG,gBAAiB,CACpB,OAGG,iBAAkB,CACrB,uBAGG,UAAW,CACX,WAAY\",\"sourcesContent\":[\"@import '~antd/dist/antd.css';\\n$bg-color: yellow;\\n$border-color: red;\\n.app {\\n    font-family: helvetica, arial, sans-serif;\\n    padding: 2em;\\n    border: 5px solid $border-color;\\n    p {\\n        background-color: $bg-color;\\n    }\\n}\\n\\n.pl-10 {\\n    padding-left: 10px;\\n}\\n\\n.pl-5 {\\n    padding-left: 5px;\\n}\\n\\n.pl-15 {\\n    padding-left: 15px;\\n}\\n\\ndiv.react-flow__handle {\\n    width: 12px;\\n    height: 12px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".container{background-color:#fff}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./views/DownloadView.scss\"],\"names\":[],\"mappings\":\"AAAA,WACI,qBAAsB\",\"sourcesContent\":[\".container {\\n    background-color: #fff;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".container{background-color:#fff}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./views/FinishSurveyView.scss\"],\"names\":[],\"mappings\":\"AAAA,WACI,qBAAsB\",\"sourcesContent\":[\".container {\\n    background-color: #fff;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@media (max-width: 992px){.map-container{height:53vh !important}}.map-container{width:100%;height:93vh}.map-sidebar{background-color:#fff}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./views/GroupEvents/MapView.scss\"],\"names\":[],\"mappings\":\"AAAA,0BACI,eACI,sBAAuB,CAC1B,CAGL,eACI,UAAW,CACX,WAAY,CACf,aAGG,qBAAsB\",\"sourcesContent\":[\"@media (max-width: 992px) {\\n    .map-container {\\n        height: 53vh !important;\\n    }\\n}\\n\\n.map-container {\\n    width: 100%;\\n    height: 93vh;\\n}\\n\\n.map-sidebar {\\n    background-color: #fff;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".container{background-color:#fff}.text-aligned-center{text-align:center}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./views/Landings/ChatBot/ChatBotView.scss\"],\"names\":[],\"mappings\":\"AAAA,WACI,qBAAsB,CACzB,qBAGG,iBAAkB\",\"sourcesContent\":[\".container {\\n    background-color: #fff;\\n}\\n\\n.text-aligned-center{\\n    text-align: center;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".container{background-color:#fff}.text-aligned-center{text-align:center}.create-event-fast-map-container{height:53vh}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./views/Landings/CreateEvent/CreateEventFastView.scss\"],\"names\":[],\"mappings\":\"AAAA,WACI,qBAAsB,CACzB,qBAGG,iBAAkB,CACrB,iCAGG,WAAY\",\"sourcesContent\":[\".container {\\n    background-color: #fff;\\n}\\n\\n.text-aligned-center{\\n    text-align: center;\\n}\\n\\n.create-event-fast-map-container {\\n    height: 53vh;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".container{background-color:#fff}.text-aligned-center{text-align:center}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./views/Landings/CreateEvent/CreateEventLandingView.scss\"],\"names\":[],\"mappings\":\"AAAA,WACI,qBAAsB,CACzB,qBAGG,iBAAkB\",\"sourcesContent\":[\".container {\\n    background-color: #fff;\\n}\\n\\n.text-aligned-center{\\n    text-align: center;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".container{background-color:#fff}.text-aligned-center{text-align:center}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./views/Landings/CreateEvent/LoginLandingView.scss\"],\"names\":[],\"mappings\":\"AAAA,WACI,qBAAsB,CACzB,qBAGG,iBAAkB\",\"sourcesContent\":[\".container {\\n    background-color: #fff;\\n}\\n\\n.text-aligned-center{\\n    text-align: center;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".container{background-color:#fff}.text-aligned-center{text-align:center}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./views/Landings/FindEvents/FindGroupEventsView.scss\"],\"names\":[],\"mappings\":\"AAAA,WACI,qBAAsB,CACzB,qBAGG,iBAAkB\",\"sourcesContent\":[\".container {\\n    background-color: #fff;\\n}\\n\\n.text-aligned-center{\\n    text-align: center;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".meditation-map-container{width:100%;height:55vh}.meditation-map-view{background-color:#fff}.mapbox-gl-draw_polygon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCI+ICAgIDx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkeT0iLjM1ZW0iIHN0eWxlPSJmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhIE5ldWUnLEFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmOyBmb250LXdlaWdodDogYm9sZDsgdGV4dC1hbmNob3I6IG1pZGRsZTsiPjJEPC90ZXh0Pjwvc3ZnPg==)}#viz{position:absolute;height:100%;width:100%;top:0;left:0;pointer-events:none;z-index:1}#circle{fill:none;stroke:black;stroke-width:2px}#sun-dir{stroke:#aaa;stroke-width:7px}#sun-pos{stroke:orange;stroke-width:7px}#sunrise{stroke:yellow;stroke-width:4px}#sunset{stroke:#f73;stroke-width:4px}#sun,#eye,#sunset-icon,#sunrise-icon{stroke-width:2px;stroke-linecap:round;stroke-linejoin:round}#sun{stroke:orange;fill:yellow}#sunrise-icon,#sunset-icon{fill:none;stroke:#777}#eye{stroke:black;fill:white}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./views/Meditations/MapView.scss\"],\"names\":[],\"mappings\":\"AAAA,0BACI,UAAW,CACX,WAAY,CACf,qBAGG,qBAAsB,CACzB,wBAGG,gXAAiX,CACpX,KAGG,iBAAkB,CAClB,WAAY,CACZ,UAAW,CACX,KAAM,CACN,MAAO,CACP,mBAAoB,CACpB,SAAU,CACb,QAGG,SAAU,CACV,YAAa,CACb,gBAAiB,CACpB,SAGG,WAAY,CACZ,gBAAiB,CACpB,SAGG,aAAc,CACd,gBAAiB,CACpB,SAEG,aAAc,CACd,gBAAiB,CACpB,QAEG,WAAY,CACZ,gBAAiB,CACpB,qCAGG,gBAAiB,CACjB,oBAAqB,CACrB,qBAAsB,CACzB,KAGG,aAAc,CACd,WAAY,CACf,2BAGG,SAAU,CACV,WAAY,CACf,KAGG,YAAa,CACb,UAAW\",\"sourcesContent\":[\".meditation-map-container {\\n    width: 100%;\\n    height: 55vh;\\n}\\n\\n.meditation-map-view {\\n    background-color: #fff;\\n}\\n\\n.mapbox-gl-draw_polygon {\\n    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCI+ICAgIDx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBkeT0iLjM1ZW0iIHN0eWxlPSJmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhIE5ldWUnLEFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmOyBmb250LXdlaWdodDogYm9sZDsgdGV4dC1hbmNob3I6IG1pZGRsZTsiPjJEPC90ZXh0Pjwvc3ZnPg==);\\n}\\n\\n#viz {\\n    position: absolute;\\n    height: 100%;\\n    width: 100%;\\n    top: 0;\\n    left: 0;\\n    pointer-events: none;\\n    z-index: 1;\\n}\\n\\n#circle {\\n    fill: none;\\n    stroke: black;\\n    stroke-width: 2px;\\n}\\n\\n#sun-dir {\\n    stroke: #aaa;\\n    stroke-width: 7px;\\n}\\n\\n#sun-pos {\\n    stroke: orange;\\n    stroke-width: 7px;\\n}\\n#sunrise {\\n    stroke: yellow;\\n    stroke-width: 4px;\\n}\\n#sunset {\\n    stroke: #f73;\\n    stroke-width: 4px;\\n}\\n\\n#sun, #eye, #sunset-icon, #sunrise-icon {\\n    stroke-width: 2px;\\n    stroke-linecap: round;\\n    stroke-linejoin: round;\\n}\\n\\n#sun {\\n    stroke: orange;\\n    fill: yellow;\\n}\\n\\n#sunrise-icon, #sunset-icon {\\n    fill: none;\\n    stroke: #777;\\n}\\n\\n#eye {\\n    stroke: black;\\n    fill: white;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".container{background-color:#fff}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./views/SurveyView.scss\"],\"names\":[],\"mappings\":\"AAAA,WACI,qBAAsB\",\"sourcesContent\":[\".container {\\n    background-color: #fff;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var map = {\n\t\"./af\": 1009,\n\t\"./af.js\": 1009,\n\t\"./ar\": 88769,\n\t\"./ar-dz\": 23739,\n\t\"./ar-dz.js\": 23739,\n\t\"./ar-kw\": 93745,\n\t\"./ar-kw.js\": 93745,\n\t\"./ar-ly\": 99576,\n\t\"./ar-ly.js\": 99576,\n\t\"./ar-ma\": 67408,\n\t\"./ar-ma.js\": 67408,\n\t\"./ar-sa\": 48781,\n\t\"./ar-sa.js\": 48781,\n\t\"./ar-tn\": 87856,\n\t\"./ar-tn.js\": 87856,\n\t\"./ar.js\": 88769,\n\t\"./az\": 2030,\n\t\"./az.js\": 2030,\n\t\"./be\": 56476,\n\t\"./be.js\": 56476,\n\t\"./bg\": 25304,\n\t\"./bg.js\": 25304,\n\t\"./bm\": 48125,\n\t\"./bm.js\": 48125,\n\t\"./bn\": 34,\n\t\"./bn-bd\": 29835,\n\t\"./bn-bd.js\": 29835,\n\t\"./bn.js\": 34,\n\t\"./bo\": 64082,\n\t\"./bo.js\": 64082,\n\t\"./br\": 8317,\n\t\"./br.js\": 8317,\n\t\"./bs\": 93107,\n\t\"./bs.js\": 93107,\n\t\"./ca\": 68272,\n\t\"./ca.js\": 68272,\n\t\"./cs\": 98567,\n\t\"./cs.js\": 98567,\n\t\"./cv\": 61583,\n\t\"./cv.js\": 61583,\n\t\"./cy\": 3717,\n\t\"./cy.js\": 3717,\n\t\"./da\": 31760,\n\t\"./da.js\": 31760,\n\t\"./de\": 8973,\n\t\"./de-at\": 63214,\n\t\"./de-at.js\": 63214,\n\t\"./de-ch\": 74728,\n\t\"./de-ch.js\": 74728,\n\t\"./de.js\": 8973,\n\t\"./dv\": 54053,\n\t\"./dv.js\": 54053,\n\t\"./el\": 7499,\n\t\"./el.js\": 7499,\n\t\"./en-au\": 67876,\n\t\"./en-au.js\": 67876,\n\t\"./en-ca\": 47010,\n\t\"./en-ca.js\": 47010,\n\t\"./en-gb\": 34239,\n\t\"./en-gb.js\": 34239,\n\t\"./en-ie\": 99830,\n\t\"./en-ie.js\": 99830,\n\t\"./en-il\": 28438,\n\t\"./en-il.js\": 28438,\n\t\"./en-in\": 25322,\n\t\"./en-in.js\": 25322,\n\t\"./en-nz\": 43264,\n\t\"./en-nz.js\": 43264,\n\t\"./en-sg\": 55449,\n\t\"./en-sg.js\": 55449,\n\t\"./eo\": 39486,\n\t\"./eo.js\": 39486,\n\t\"./es\": 32430,\n\t\"./es-do\": 16310,\n\t\"./es-do.js\": 16310,\n\t\"./es-mx\": 27038,\n\t\"./es-mx.js\": 27038,\n\t\"./es-us\": 73099,\n\t\"./es-us.js\": 73099,\n\t\"./es.js\": 32430,\n\t\"./et\": 34975,\n\t\"./et.js\": 34975,\n\t\"./eu\": 87063,\n\t\"./eu.js\": 87063,\n\t\"./fa\": 68073,\n\t\"./fa.js\": 68073,\n\t\"./fi\": 50957,\n\t\"./fi.js\": 50957,\n\t\"./fil\": 8764,\n\t\"./fil.js\": 8764,\n\t\"./fo\": 81775,\n\t\"./fo.js\": 81775,\n\t\"./fr\": 74179,\n\t\"./fr-ca\": 14306,\n\t\"./fr-ca.js\": 14306,\n\t\"./fr-ch\": 73791,\n\t\"./fr-ch.js\": 73791,\n\t\"./fr.js\": 74179,\n\t\"./fy\": 47014,\n\t\"./fy.js\": 47014,\n\t\"./ga\": 46911,\n\t\"./ga.js\": 46911,\n\t\"./gd\": 62958,\n\t\"./gd.js\": 62958,\n\t\"./gl\": 87344,\n\t\"./gl.js\": 87344,\n\t\"./gom-deva\": 33161,\n\t\"./gom-deva.js\": 33161,\n\t\"./gom-latn\": 35798,\n\t\"./gom-latn.js\": 35798,\n\t\"./gu\": 68485,\n\t\"./gu.js\": 68485,\n\t\"./he\": 27917,\n\t\"./he.js\": 27917,\n\t\"./hi\": 52159,\n\t\"./hi.js\": 52159,\n\t\"./hr\": 95842,\n\t\"./hr.js\": 95842,\n\t\"./hu\": 30005,\n\t\"./hu.js\": 30005,\n\t\"./hy-am\": 51312,\n\t\"./hy-am.js\": 51312,\n\t\"./id\": 60781,\n\t\"./id.js\": 60781,\n\t\"./is\": 64101,\n\t\"./is.js\": 64101,\n\t\"./it\": 43467,\n\t\"./it-ch\": 4759,\n\t\"./it-ch.js\": 4759,\n\t\"./it.js\": 43467,\n\t\"./ja\": 44164,\n\t\"./ja.js\": 44164,\n\t\"./jv\": 70079,\n\t\"./jv.js\": 70079,\n\t\"./ka\": 57036,\n\t\"./ka.js\": 57036,\n\t\"./kk\": 92022,\n\t\"./kk.js\": 92022,\n\t\"./km\": 63418,\n\t\"./km.js\": 63418,\n\t\"./kn\": 43655,\n\t\"./kn.js\": 43655,\n\t\"./ko\": 30986,\n\t\"./ko.js\": 30986,\n\t\"./ku\": 91902,\n\t\"./ku.js\": 91902,\n\t\"./ky\": 4604,\n\t\"./ky.js\": 4604,\n\t\"./lb\": 99026,\n\t\"./lb.js\": 99026,\n\t\"./lo\": 20537,\n\t\"./lo.js\": 20537,\n\t\"./lt\": 22288,\n\t\"./lt.js\": 22288,\n\t\"./lv\": 1495,\n\t\"./lv.js\": 1495,\n\t\"./me\": 60690,\n\t\"./me.js\": 60690,\n\t\"./mi\": 2571,\n\t\"./mi.js\": 2571,\n\t\"./mk\": 93959,\n\t\"./mk.js\": 93959,\n\t\"./ml\": 97225,\n\t\"./ml.js\": 97225,\n\t\"./mn\": 88,\n\t\"./mn.js\": 88,\n\t\"./mr\": 46622,\n\t\"./mr.js\": 46622,\n\t\"./ms\": 11070,\n\t\"./ms-my\": 48899,\n\t\"./ms-my.js\": 48899,\n\t\"./ms.js\": 11070,\n\t\"./mt\": 63931,\n\t\"./mt.js\": 63931,\n\t\"./my\": 95393,\n\t\"./my.js\": 95393,\n\t\"./nb\": 4274,\n\t\"./nb.js\": 4274,\n\t\"./ne\": 8914,\n\t\"./ne.js\": 8914,\n\t\"./nl\": 33114,\n\t\"./nl-be\": 68479,\n\t\"./nl-be.js\": 68479,\n\t\"./nl.js\": 33114,\n\t\"./nn\": 4513,\n\t\"./nn.js\": 4513,\n\t\"./oc-lnc\": 46549,\n\t\"./oc-lnc.js\": 46549,\n\t\"./pa-in\": 28264,\n\t\"./pa-in.js\": 28264,\n\t\"./pl\": 32848,\n\t\"./pl.js\": 32848,\n\t\"./pt\": 90899,\n\t\"./pt-br\": 55077,\n\t\"./pt-br.js\": 55077,\n\t\"./pt.js\": 90899,\n\t\"./ro\": 92512,\n\t\"./ro.js\": 92512,\n\t\"./ru\": 21753,\n\t\"./ru.js\": 21753,\n\t\"./sd\": 16840,\n\t\"./sd.js\": 16840,\n\t\"./se\": 78362,\n\t\"./se.js\": 78362,\n\t\"./si\": 50464,\n\t\"./si.js\": 50464,\n\t\"./sk\": 66324,\n\t\"./sk.js\": 66324,\n\t\"./sl\": 41963,\n\t\"./sl.js\": 41963,\n\t\"./sq\": 53039,\n\t\"./sq.js\": 53039,\n\t\"./sr\": 93454,\n\t\"./sr-cyrl\": 10466,\n\t\"./sr-cyrl.js\": 10466,\n\t\"./sr.js\": 93454,\n\t\"./ss\": 95158,\n\t\"./ss.js\": 95158,\n\t\"./sv\": 28859,\n\t\"./sv.js\": 28859,\n\t\"./sw\": 57594,\n\t\"./sw.js\": 57594,\n\t\"./ta\": 26915,\n\t\"./ta.js\": 26915,\n\t\"./te\": 15677,\n\t\"./te.js\": 15677,\n\t\"./tet\": 92154,\n\t\"./tet.js\": 92154,\n\t\"./tg\": 74098,\n\t\"./tg.js\": 74098,\n\t\"./th\": 89071,\n\t\"./th.js\": 89071,\n\t\"./tk\": 49381,\n\t\"./tk.js\": 49381,\n\t\"./tl-ph\": 1869,\n\t\"./tl-ph.js\": 1869,\n\t\"./tlh\": 92346,\n\t\"./tlh.js\": 92346,\n\t\"./tr\": 71483,\n\t\"./tr.js\": 71483,\n\t\"./tzl\": 30266,\n\t\"./tzl.js\": 30266,\n\t\"./tzm\": 33138,\n\t\"./tzm-latn\": 32960,\n\t\"./tzm-latn.js\": 32960,\n\t\"./tzm.js\": 33138,\n\t\"./ug-cn\": 29456,\n\t\"./ug-cn.js\": 29456,\n\t\"./uk\": 50805,\n\t\"./uk.js\": 50805,\n\t\"./ur\": 61127,\n\t\"./ur.js\": 61127,\n\t\"./uz\": 29628,\n\t\"./uz-latn\": 80840,\n\t\"./uz-latn.js\": 80840,\n\t\"./uz.js\": 29628,\n\t\"./vi\": 56962,\n\t\"./vi.js\": 56962,\n\t\"./x-pseudo\": 49257,\n\t\"./x-pseudo.js\": 49257,\n\t\"./yo\": 62423,\n\t\"./yo.js\": 62423,\n\t\"./zh-cn\": 61002,\n\t\"./zh-cn.js\": 61002,\n\t\"./zh-hk\": 6046,\n\t\"./zh-hk.js\": 6046,\n\t\"./zh-mo\": 36903,\n\t\"./zh-mo.js\": 36903,\n\t\"./zh-tw\": 24710,\n\t\"./zh-tw.js\": 24710\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 95126;","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./MapView.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./CreateEventFastView.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./MapView.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","module.exports = React;","module.exports = ReactDOM;"],"sourceRoot":""}