{"version":3,"sources":["webpack:///./App.tsx","webpack:///./components/Menu.tsx","webpack:///./firebase.ts","webpack:///./index.tsx","webpack:///./layout/MainLayout.tsx","webpack:///./mapbox.ts","webpack:///./providers/LoginUIProvider.tsx","webpack:///./providers/UserProvider.tsx","webpack:///./views/HelpView.tsx","webpack:///./views/Map/MapView.tsx","webpack:///./views/Map/MapViewState.ts","webpack:///./views/Map/States/CreateComment.tsx","webpack:///./views/Map/States/CreateEvent.tsx","webpack:///./views/Map/States/CreateEventMapState.tsx","webpack:///./views/Map/States/ExploreMapState.tsx","webpack:///./views/Map/States/LoadingMapState.tsx","webpack:///./views/Map/States/MapState.tsx","webpack:///./views/Map/States/ViewAllComments.tsx","webpack:///./views/Map/States/ViewEventMapState.tsx","webpack:///./views/MyProfileView.tsx","webpack:///./views/OtherProfileView.tsx","webpack:///./App.scss","webpack:///./views/Map/MapView.scss","webpack:////Users/siarheishchahrykovich/Documents/Projects/JoinMeOnHike/node_modules/moment/locale|sync|/^\\.\\/.*$/","webpack:///./App.scss?cbcd","webpack:///./views/Map/MapView.scss?984d","webpack:///external \"React\"","webpack:///external \"ReactDOM\""],"names":["App","exact","path","to","React","hot","module","Menu","useAuthState","auth","user","loading","useContext","LoginUIContext","setIsLoginModalVisible","loginLink","type","onClick","menu","withRouter","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","provider","firebase","firestore","signInWithPopup","rootEl","document","getElementById","render","basename","dataset","baseUrl","Content","Layout","Footer","Header","Builder","props","staticContext","children","mapboxgl","mapbox","createContext","LoginUIProvider","useState","isLoginModalVisible","uiConfig","signInFlow","signInSuccessUrl","signInOptions","doc","uid","get","then","exists","set","ownerId","photoUrl","photoURL","displayName","created","Date","Provider","value","title","visible","onCancel","footer","firebaseAuth","UserContext","UserProvider","userAuth","setState","this","state","Component","Title","Typography","HelpView","span","MapView","isCreatingEvent","canCreateEvent","eventState","getDefaultEventState","mapBox","mapContainerRef","lng","lat","zoom","allEvents","Map","createRef","LoadingMapState","a","mapState","onMapMove","bind","onMapClick","onMapBoxRender","fillMapAfterLoadEvents","where","orderBy","features","values","points","userId","context","id","push","properties","eventId","displayType","geometry","coordinates","getSource","setData","addSource","data","cluster","clusterRadius","clusterMaxZoom","getLayer","addLayer","source","filter","paint","on","match","params","ViewEventMapState","ExploreMapState","isSourceLoaded","updateMarkers","total","point_count","r","w","html","Math","round","toLocaleString","el","createElement","innerHTML","firstChild","newMarkers","querySourceFeatures","i","length","coords","cluster_id","marker","markers","createDonutChart","element","setLngLat","markersOnScreen","addTo","remove","snap","docs","fillMap","map","container","mapInstanceRef","current","style","version","sources","osm","tiles","tileSize","attribution","layers","center","addControl","position","off","e","getCenter","toFixed","getZoom","eventCreationZoomMinLevel","viewState","setViewState","triggerStateChange","newState","updateMap","createMapStateContext","className","ref","routeCoordinates","clickCoordinates","clicks","routeInstructions","summary","distance","durations","TextArea","Input","CreateComment","history","location","form","Form","comment","setComment","submitting","setSubmitting","obj","ownerPhotoUrl","ownerDisplayName","add","avatar","src","alt","content","layout","initialValues","onValuesChange","name","rows","htmlType","getNextSaturday","nextSaturday","moment","startOf","CreateEvent","description","setDescription","date","setDate","lngLatArrayToDict","result","duration","hash","geohashForLocation","geohash","planned","toDate","time","saveEventHandler","body","offset","level","floor","label","format","showTime","defaultValue","cancelEventCreationHandler","CreateEventMapState","removeLayer","removeSource","addRouteWaypoint","lngLat","lngLatDictToArray","getCanvasContainer","cursor","end","getFeatureCollectionDescription","getMapLayerDescription","getRoute","clicksCount","prevPoint","url","req","XMLHttpRequest","open","onload","JSON","parse","target","response","routes","route","geojson","legs","instruction","send","color","coordsObj","Object","keys","key","MapState","queryRenderedFeatures","point","ViewAllComments","comments","setComments","useEffect","c","author","datetime","fromNow","sort","b","dataSource","itemLayout","renderItem","window","pushState","overflowY","height","MyProfileView","backgroundColor","size","OtherProfileView","profile","setProfile","fromUserId","toUserId","newComments","resetFields","profileId","p","commentHtml","xs","sm","md","lg","xl","xxl","___CSS_LOADER_EXPORT___","webpackContext","webpackContextResolve","__webpack_require__","o","Error","code","resolve","exports","ReactDOM"],"mappings":"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","file":"main.121d8ba86e5ca4f0e3e7.min.js","sourcesContent":["import * as React from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { Route, Switch, Link } from \"react-router-dom\";\nimport MainLayout from \"./layout/MainLayout\";\n\nimport \"./App.scss\";\n\nimport UserProvider from \"./providers/UserProvider\";\nimport LoginUIProvider from \"./providers/LoginUIProvider\";\n\nimport MapView from \"./views/Map/MapView\";\nimport MyProfileView from \"./views/MyProfileView\";\nimport HelpView from \"./views/HelpView\";\nimport OtherProfileView from \"./views/OtherProfileView\";\n\nclass App extends React.Component<Record<string, unknown>, unknown> {\n  public render() {\n    return (\n      <UserProvider>\n        <LoginUIProvider>\n          <MainLayout>\n            <Switch>\n              <Route exact path=\"/\">\n                <MapView />\n              </Route>\n              <Route path=\"/events/:eventId\">\n                <MapView />\n              </Route>\n              <Route exact path=\"/profile/\">\n                <MyProfileView />\n              </Route>\n              <Route exact path=\"/profile/:profileId\">\n                <OtherProfileView />\n              </Route>\n              <Route exact path=\"/help\">\n                <HelpView />\n              </Route>\n              <Route>\n                <div>\n                  Not found&nbsp;<Link to=\"/\">Go to root</Link>\n                </div>\n              </Route>\n            </Switch>\n          </MainLayout>\n        </LoginUIProvider>\n      </UserProvider>\n    );\n  }\n}\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(App);\n","import * as React from \"react\";\nimport * as _ from \"lodash\";\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\nimport { hot } from \"react-hot-loader\";\nimport { Button, Layout } from \"antd\";\nimport { auth, firebase, firestore } from \"../firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useState, useContext } from \"react\";\nimport { LoginUIContext } from \"../providers/LoginUIProvider\";\n\nconst Menu = () => {\n  const [user, loading, error] = useAuthState(auth);\n  const [isLoginModalVisible, setIsLoginModalVisible] = useContext(\n    LoginUIContext,\n  );\n\n  const loginClick = () => {\n    setIsLoginModalVisible(true);\n  };\n\n  const logoutClick = () => {\n    auth.signOut();\n  };\n\n  let loginLink = (\n    <Button type=\"link\" onClick={loginClick}>\n      Login\n    </Button>\n  );\n\n  if (!loading && user !== null) {\n    loginLink = (\n      <>\n        <Link to={\"/profile\"}>Profile</Link>\n        <Button type=\"link\" onClick={logoutClick}>\n          Logout\n        </Button>\n      </>\n    );\n  }\n\n  let menu = (\n    <>\n      <Link to={\"/\"}>Map</Link>&nbsp;&nbsp;&nbsp;&nbsp;\n      {/*<Link to={\"/help\"}>Help</Link>&nbsp;*/}\n      {loginLink}\n    </>\n  );\n  if (loading) {\n    menu = <></>;\n  }\n\n  return <>{menu}</>;\n};\n\nexport default hot(module)(withRouter(Menu));\n","import firebaseApp from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDchbP9S7ufdxADSoHsSiMfkd8euLo3kas\",\n  authDomain: \"joinmeonhike.firebaseapp.com\",\n  projectId: \"joinmeonhike\",\n  storageBucket: \"joinmeonhike.appspot.com\",\n  messagingSenderId: \"826292038177\",\n  appId: \"1:826292038177:web:fd3be97432a2e415809160\",\n  measurementId: \"G-S81VP2G66C\",\n};\n\nfirebaseApp.initializeApp(firebaseConfig);\n\nconst provider = new firebaseApp.auth.GoogleAuthProvider();\n\nexport const signInWithGoogle = () => {\n  auth.signInWithPopup(provider);\n};\n\nexport const firebase = firebaseApp;\nexport const auth = firebaseApp.auth();\nexport const firestore = firebaseApp.firestore();\n","import * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { HashRouter } from 'react-router-dom';\nimport App from \"./App\";\n\nconst rootEl = document.getElementById(\"root\");\n\nrender(<HashRouter basename={rootEl.dataset.baseUrl}>\n          <App />\n       </HashRouter>, rootEl);\n","import * as React from \"react\";\nimport * as _ from \"lodash\";\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\nimport { hot } from \"react-hot-loader\";\nimport { Button, Layout } from \"antd\";\nconst { Content, Footer, Header } = Layout;\nimport Menu from \"../components/Menu\";\n\nconst Builder = (props) => {\n  const { to, staticContext, children, ...rest } = props;\n  return (\n    <Layout>\n      <Header>\n        <Menu />\n      </Header>\n      <Content>{children}</Content>\n    </Layout>\n  );\n};\n\ndeclare let module: Record<string, unknown>;\nexport default hot(module)(withRouter(Builder));\n","import mapboxgl from 'mapbox-gl';\n \nmapboxgl.accessToken = 'pk.eyJ1Ijoiam9pbm1lb25oaWtlIiwiYSI6ImNrb3pobjY2YzBhNHcyb2xnN2x1ZTc4bTMifQ.Z1o-MgZFmGk2nod2-AlYTA';\n\nexport const mapbox = mapboxgl;","import React, { createContext, useContext } from \"react\";\nimport * as _ from \"lodash\";\nimport { hot } from \"react-hot-loader\";\nimport { auth, firebase, firestore } from \"../firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useState } from 'react';\nimport { Modal } from 'antd';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\n\nexport const LoginUIContext = createContext([]);\n\nconst LoginUIProvider = (props) => {\n    const [isLoginModalVisible, setIsLoginModalVisible] = useState(false);\n    const [user, loading, error] = useAuthState(auth);\n\n    const closeLoginModal = () => {\n        setIsLoginModalVisible(false);\n    }\n    const uiConfig = {\n        signInFlow: 'popup',\n        signInSuccessUrl: '/',\n        signInOptions: [\n            firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n        ],\n    };\n\n    const tryUpdateProfile = (doc) => {\n        if(!doc.exists) {\n          firestore.collection('profiles').doc(user.uid).set({\n            ownerId: user.uid,\n            photoUrl: user.photoURL,\n            displayName: user.displayName,\n            created: new Date()\n          });\n        }\n      };\n\n    if (!loading && user !== null) {\n        firestore.collection('profiles').doc(user.uid).get().then(tryUpdateProfile);\n      }\n\n    return (<LoginUIContext.Provider value={[isLoginModalVisible, setIsLoginModalVisible]}>\n        { props.children}\n        <Modal title=\"Login\"\n            visible={isLoginModalVisible}\n            onCancel={closeLoginModal}\n            footer={[]}\n        >\n            <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={auth} />\n        </Modal>\n    </LoginUIContext.Provider>);\n}\n\nexport default hot(module)(LoginUIProvider);","import React, { Component, createContext } from \"react\";\nimport { auth } from \"../firebase\";\nimport { hot } from \"react-hot-loader\";\n\nexport const UserContext = createContext({ user: null });\n\nclass UserProvider extends Component {\n    state = {\n        user: null,\n    };\n\n    componentDidMount = () => {\n        auth.onAuthStateChanged((userAuth) => {\n            this.setState({ user: userAuth });\n        });\n    };\n\n    public render() {\n        return (<UserContext.Provider value={this.state.user}>\n                { this.props.children }\n                </UserContext.Provider>);\n    }\n}\n\ndeclare let module: Record<string, unknown>;\nexport default hot(module)(UserProvider);","import * as React from \"react\";\nimport { createRef } from 'react';\nimport { hot } from \"react-hot-loader\";\nimport { withRouter } from \"react-router-dom\";\nimport { mapbox } from \"../mapbox\";\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { Typography, Row, Col, Button } from 'antd';\nimport CreateEvent from \"./Map/States/CreateEvent\";\nimport { auth, firebase, firestore } from \"../firebase\";\nimport { geohashForLocation, geohashQueryBounds, distanceBetween } from \"geofire-common\";\n\nconst { Title } = Typography;\n\ntype HelpViewState = {\n  \n}\n\nclass HelpView extends React.Component<Record<string, unknown>, HelpViewState> {\n  public readonly state: HelpViewState = {\n  }\n\n  constructor(props) {\n    super(props);\n\n  }\n\n\n  public render() {\n    return (\n      <>\n        <Row>\n          <Col span={18}>\n            Help\n          </Col>\n          <Col span={6}>\n           \n          </Col>\n        </Row>\n      </>\n    );\n  }\n}\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(HelpView));\n","import * as React from \"react\";\nimport { createRef } from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./MapView.scss\";\nimport { mapbox } from \"../../mapbox\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { Typography, Row, Col, Button } from \"antd\";\nimport { auth, firebase, firestore } from \"../../firebase\";\nimport { MapViewState, EventState, getDefaultEventState } from \"./MapViewState\";\nimport { ExploreMapState } from \"./States/ExploreMapState\";\nconst { Title } = Typography;\nimport { UserContext } from \"../../providers/UserProvider\";\nimport { MapStateContext } from \"./States/MapState\";\nimport { ViewEventMapState } from \"./States/ViewEventMapState\";\nimport { LoadingMapState } from \"./States/LoadingMapState\";\n\n//https://github.com/firebase/firebaseui-web-react\n//https://github.com/alex3165/react-mapbox-gl\nclass MapView extends React.Component<Record<string, unknown>, MapViewState> {\n  public readonly state: MapViewState = {\n    isCreatingEvent: false,\n    canCreateEvent: false,\n    eventState: getDefaultEventState(),\n    mapBox: null,\n    mapContainerRef: null,\n    lng: -122.2946,\n    lat: 37.1787,\n    zoom: 14,\n    allEvents: new Map<string, any>(),\n  };\n\n  static contextType = UserContext;\n  private mapInstanceRef = createRef<HTMLDivElement>();\n  private eventCreationZoomMinLevel = 11.7;\n  private markersOnScreen = {};\n  private markers = {};\n  private mapState = new LoadingMapState((a) => {\n    this.mapState = a;\n    this.setState(this.state);\n  });\n\n  constructor(props) {\n    super(props);\n\n    this.onMapMove = this.onMapMove.bind(this);\n    this.onMapClick = this.onMapClick.bind(this);\n    this.onMapBoxRender = this.onMapBoxRender.bind(this);\n    this.fillMapAfterLoadEvents = this.fillMapAfterLoadEvents.bind(this);\n\n    firestore\n      .collection(\"events\")\n      .where(\"planned\", \">\", new Date())\n      .orderBy(\"planned\")\n      .get()\n      .then(this.fillMapAfterLoadEvents);\n  }\n\n  private fillMap() {\n    const mapBox = this.state.mapBox;\n\n    const features = [];\n    for (const doc of this.state.allEvents.values()) {\n      const points = doc.get(\"points\");\n      const lat = points[0].lat;\n      const lng = points[0].lng;\n\n      let userId = null;\n      if(this.context) {\n        userId = this.context.id;\n      }\n\n      features.push({\n        type: \"Feature\",\n        properties: {\n          eventId: doc.id,\n          ownerId: doc.get(\"ownerId\"),\n          displayType:\n            userId === doc.get(\"ownerId\") ? \"Mine\" : \"Other\",\n        },\n        geometry: {\n          type: \"Point\",\n          coordinates: [lng, lat, 0.0],\n        },\n      });\n    }\n\n    if (mapBox.getSource(\"routes\")) {\n      mapBox.getSource(\"routes\").setData({\n        type: \"FeatureCollection\",\n        features: features,\n      });\n    } else {\n      mapBox.addSource(\"routes\", {\n        type: \"geojson\",\n        data: {\n          type: \"FeatureCollection\",\n          features: features,\n        },\n        cluster: true,\n        clusterRadius: 80,\n        clusterMaxZoom: 14,\n      });\n    }\n\n    if (!mapBox.getLayer(\"route_circles\")) {\n      mapBox.addLayer({\n        id: \"route_circles\",\n        type: \"circle\",\n        source: \"routes\",\n        filter: [\"!=\", \"cluster\", true],\n        paint: {\n          \"circle-color\": [\n            \"match\",\n            [\"get\", \"displayType\"],\n            \"Mine\",\n            \"#3887be\",\n            \"Other\",\n            \"#223b53\",\n            \"#3887be\",\n          ],\n          \"circle-opacity\": 0.8,\n          \"circle-radius\": 12,\n        },\n      });\n    }\n\n    // after the GeoJSON data is loaded, update markers on the screen on every frame\n    mapBox.on(\"render\", this.onMapBoxRender);\n\n    const { eventId } = this.props.match.params;\n    if (eventId) {\n      this.mapState = ViewEventMapState.fromUrl(eventId, (a) => {\n        this.mapState = a;\n        this.setState(this.state);\n      });\n    } else {\n      this.mapState = new ExploreMapState((a) => {\n        this.mapState = a;\n        this.setState(this.state);\n      });\n    }\n    this.setState(this.state);\n  }\n\n  private onMapBoxRender() {\n    if (!this.state.mapBox.isSourceLoaded(\"routes\")) return;\n    this.updateMarkers();\n  }\n\n  private createDonutChart(props) {\n    const total = props.point_count;\n    const fontSize =\n      total >= 1000 ? 22 : total >= 100 ? 20 : total >= 10 ? 18 : 16;\n    const r = total >= 1000 ? 50 : total >= 100 ? 32 : total >= 10 ? 24 : 18;\n    const r0 = Math.round(r * 0.6);\n    const w = r * 2;\n\n    let html =\n      '<div><svg width=\"' +\n      w +\n      '\" height=\"' +\n      w +\n      '\" viewbox=\"0 0 ' +\n      w +\n      \" \" +\n      w +\n      '\" text-anchor=\"middle\" style=\"font: ' +\n      fontSize +\n      'px sans-serif; display: block\">';\n\n    html +=\n      '<circle cx=\"' +\n      r +\n      '\" cy=\"' +\n      r +\n      '\" r=\"' +\n      r0 +\n      '\" fill=\"#3887be\" /><text dominant-baseline=\"central\" transform=\"translate(' +\n      r +\n      \", \" +\n      r +\n      ')\">' +\n      total.toLocaleString() +\n      \"</text></svg></div>\";\n\n    const el = document.createElement(\"div\");\n    el.innerHTML = html;\n    return el.firstChild;\n  }\n\n  private updateMarkers() {\n    const newMarkers = {};\n    const features = this.state.mapBox.querySourceFeatures(\"routes\");\n\n    // for every cluster on the screen, create an HTML marker for it (if we didn't yet),\n    // and add it to the map if it's not there already\n    for (let i = 0; i < features.length; i++) {\n      const coords = features[i].geometry.coordinates;\n      const props = features[i].properties;\n      if (!props.cluster) continue;\n      var id = props.cluster_id;\n\n      let marker = this.markers[id];\n      if (!marker) {\n        const el = this.createDonutChart(props);\n        marker = this.markers[id] = new mapbox.Marker({\n          element: el,\n        }).setLngLat(coords);\n      }\n      newMarkers[id] = marker;\n\n      if (!this.markersOnScreen[id]) {\n        marker.addTo(this.state.mapBox);\n      }\n    }\n    // for every marker we've added previously, remove those that are no longer visible\n    for (id in this.markersOnScreen) {\n      if (!newMarkers[id]) this.markersOnScreen[id].remove();\n    }\n    this.markersOnScreen = newMarkers;\n  }\n\n  private fillMapAfterLoadEvents(snap) {\n    for (const doc of snap.docs) {\n      this.state.allEvents.set(doc.id, doc);\n    }\n\n    this.fillMap();\n  }\n\n  public componentDidMount() {\n    const map = new mapbox.Map({\n      container: this.mapInstanceRef.current,\n      //style: 'mapbox://styles/mapbox/outdoors-v11',\n      style: {\n        version: 8,\n        sources: {\n          osm: {\n            type: \"raster\",\n            tiles: [\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\"],\n            tileSize: 256,\n            attribution:\n              'Map tiles by <a target=\"_top\" rel=\"noopener\" href=\"https://tile.openstreetmap.org/\">OpenStreetMap tile servers</a>, under the <a target=\"_top\" rel=\"noopener\" href=\"https://operations.osmfoundation.org/policies/tiles/\">tile usage policy</a>. Data by <a target=\"_top\" rel=\"noopener\" href=\"http://openstreetmap.org\">OpenStreetMap</a>',\n          },\n        },\n        layers: [\n          {\n            id: \"osm\",\n            type: \"raster\",\n            source: \"osm\",\n          },\n        ],\n      },\n      center: [this.state.lng, this.state.lat],\n      zoom: this.state.zoom,\n    });\n\n    map.on(\"move\", this.onMapMove);\n    map.on(\"click\", this.onMapClick);\n\n    map.addControl(new mapbox.NavigationControl());\n    map.addControl(new mapbox.ScaleControl({ position: \"bottom-right\" }));\n\n    this.setState({ mapBox: map });\n  }\n\n  public componentWillUnmount() {\n    this.state.mapBox.off(\"move\", this.onMapMove);\n    this.state.mapBox.off(\"click\", this.onMapClick);\n    this.state.mapBox.off(\"render\", this.onMapBoxRender);\n  }\n\n  private onMapMove(e) {\n    this.setState({\n      lat: this.state.mapBox.getCenter().lat.toFixed(4),\n      lng: this.state.mapBox.getCenter().lng.toFixed(4),\n      zoom: this.state.mapBox.getZoom().toFixed(2),\n      canCreateEvent: this.eventCreationZoomMinLevel < this.state.zoom,\n    });\n  }\n\n  private createMapStateContext(): MapStateContext {\n    return {\n      viewState: this.state,\n      setViewState: this.setState.bind(this),\n      user: this.context,\n      props: this.props,\n      triggerStateChange: (newState) => {\n        this.mapState = newState;\n        this.setState(this.state);\n      },\n      updateMap: this.fillMap.bind(this),\n    };\n  }\n\n  private onMapClick(e) {\n    this.mapState = this.mapState.onMapClick(e, this.createMapStateContext());\n    this.setState(this.state);\n  }\n\n  public render() {\n    return (\n      <>\n        <Row>\n          <Col span={18}>\n            <div className=\"map-container\" ref={this.mapInstanceRef} />\n          </Col>\n          <Col className=\"map-sidebar\" span={6}>\n            {this.mapState.render(this.createMapStateContext())}\n          </Col>\n        </Row>\n      </>\n    );\n  }\n}\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(MapView));\n","export type MapViewState = {\n  eventState: EventState;\n  mapBox: any;\n  mapContainerRef: HTMLDivElement;\n  lng: number;\n  lat: number;\n  zoom: number;\n  isCreatingEvent: boolean;\n  canCreateEvent: boolean;\n  allEvents: Map<string, any>;\n};\n\nexport type EventState = {\n  routeCoordinates: Array<number>;\n  clickCoordinates: Array<number>;\n  clicks: number;\n  routeInstructions: Map<number, any>;\n  summary: string;\n  distance: number;\n  durations: Array<number>;\n};\n\nexport function getDefaultEventState(): EventState {\n  return {\n    routeCoordinates: [],\n    clickCoordinates: [],\n    clicks: 0,\n    routeInstructions: new Map<number, any>(),\n    summary: \"New event\",\n    distance: 0,\n    durations: [],\n  };\n}\n","import * as React from \"react\";\nimport * as _ from \"lodash\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { hot } from \"react-hot-loader\";\nimport { Typography, Row, Col, Button, DatePicker, Avatar } from \"antd\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useContext, useState } from \"react\";\nimport { auth, firestore } from \"../../../firebase\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { LoginUIContext } from \"../../../providers/LoginUIProvider\";\nimport { Input } from \"antd\";\nimport { Form, Radio } from \"antd\";\nimport { Comment, Tooltip, List } from \"antd\";\n\nconst { TextArea } = Input;\n\nconst CreateComment = ({ history, location, match, value }) => {\n  const [user, loading, error] = useAuthState(auth);\n  const [isLoginModalVisible, setIsLoginModalVisible] = useContext(\n    LoginUIContext,\n  );\n  const [form] = Form.useForm();\n  const [comment, setComment] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n\n  const handleChange = ({ comment }) => {\n    if (comment) {\n      setComment(comment);\n    }\n  };\n\n  function pleaseLogin() {\n    setIsLoginModalVisible(true);\n  }\n\n  async function handleSubmit() {\n    if (!comment) {\n      return;\n    }\n\n    if (!loading && user) {\n      setSubmitting(true);\n\n      const obj = {\n        value: comment,\n        ownerPhotoUrl: user.photoURL,\n        ownerDisplayName: user.displayName,\n        ownerId: user.uid,\n        created: new Date(),\n      };\n      const doc = await firestore\n        .collection(\"events/\" + value.doc.id + \"/comments\")\n        .add(obj);\n\n      setSubmitting(false);\n    } else {\n      setIsLoginModalVisible(true);\n    }\n  }\n\n  if (user) {\n    return (\n      <Comment\n        avatar={<Avatar src={user.photoURL} alt={user.displayName} />}\n        content={\n          <>\n            <Form\n              layout={\"vertical\"}\n              initialValues={{ comment: comment }}\n              form={form}\n              onValuesChange={handleChange}\n            >\n              <Form.Item name=\"comment\">\n                <TextArea rows={4} />\n              </Form.Item>\n            </Form>\n            <Button\n              htmlType=\"submit\"\n              loading={submitting}\n              onClick={handleSubmit}\n              type=\"primary\"\n            >\n              Add Comment\n            </Button>\n            &nbsp;\n            <Link to={\"/profile/\" + value.doc.get(\"ownerId\")}>\n              Send private message\n            </Link>\n          </>\n        }\n      />\n    );\n  } else {\n    return (\n      <>\n        <Button onClick={pleaseLogin} type=\"primary\">\n          Log in\n        </Button>\n      </>\n    );\n  }\n};\n\nexport default hot(module)(withRouter(CreateComment));\n","import * as React from \"react\";\nimport * as _ from \"lodash\";\nimport { withRouter } from \"react-router-dom\";\nimport { hot } from \"react-hot-loader\";\nimport { Typography, Row, Col, Button, DatePicker } from \"antd\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useContext, useState } from \"react\";\nimport { auth, firestore } from \"../../../firebase\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { LoginUIContext } from \"../../../providers/LoginUIProvider\";\nimport { geohashForLocation } from \"geofire-common\";\nimport moment from \"moment\";\nimport { Input } from \"antd\";\nimport { Form, Radio } from \"antd\";\nimport { Comment, Tooltip, List } from \"antd\";\n\nconst { TextArea } = Input;\n\nfunction getNextSaturday() {\n  let nextSaturday = moment().startOf(\"isoWeek\").add(5, \"day\").add(10, \"hour\");\n  const now = moment();\n  if (nextSaturday < now) {\n    nextSaturday = nextSaturday.add(7, \"day\");\n  }\n  return nextSaturday;\n}\n\nconst CreateEvent = ({ history, location, match, value }) => {\n  const [user, loading, error] = useAuthState(auth);\n  const [isLoginModalVisible, setIsLoginModalVisible] = useContext(\n    LoginUIContext,\n  );\n  const [form] = Form.useForm();\n  const [description, setDescription] = useState(\"\");\n  const [date, setDate] = useState(getNextSaturday());\n\n  function lngLatArrayToDict(a) {\n    const result = [];\n    for (const i in a) {\n      result.push({\n        lng: a[i][0],\n        lat: a[i][1],\n      });\n    }\n    return result;\n  }\n\n  async function saveEventHandler() {\n    if (!loading && user) {\n      let duration = 0;\n      for (const i in value.eventState.durations) {\n        duration += value.eventState.durations[i];\n      }\n\n      const coordinates = lngLatArrayToDict(value.eventState.routeCoordinates);\n      const hash = geohashForLocation([coordinates[0].lat, coordinates[0].lng]);\n      const obj = {\n        created: new Date(),\n        summary: value.eventState.summary,\n        geohash: hash,\n        planned: date.toDate(),\n        ownerId: user.uid,\n        ownerPhotoUrl: user.photoURL,\n        ownerDisplayName: user.displayName,\n        distance: value.eventState.distance,\n        time: duration,\n        description: description,\n        points: coordinates,\n      };\n      const doc = await firestore.collection(\"events\").add(obj);\n      const a = await firestore.collection(\"events\").doc(doc.id).get();\n      value.saveEventHandler(a);\n    } else {\n      setIsLoginModalVisible(true);\n    }\n  }\n\n  let duration = 0;\n  for (const i in value.eventState.durations) {\n    duration += value.eventState.durations[i];\n  }\n\n  const formItemLayout = null;\n\n  const onFormUpdate = ({ date, description }) => {\n    if (date) {\n      setDate(date);\n    }\n    if (description) {\n      setDescription(description);\n    }\n  };\n\n  let body = <></>;\n  body = (\n    <Row>\n      <Col span={22} offset={1}>\n        <Typography.Title level={2}>\n          {value.eventState.summary}\n        </Typography.Title>\n      </Col>\n      <Col span={20} offset={1}>\n        <Row>\n          <Col span={10}>Distance</Col>\n          <Col span={10}>Duration</Col>\n        </Row>\n        <Row>\n          <Col span={10}>\n            {(value.eventState.distance / 1000).toFixed(2)} km\n          </Col>\n          <Col span={10}>{Math.floor(duration / 60)} minutes</Col>\n        </Row>\n      </Col>\n      <Col span={20} offset={1}>\n        <Form\n          {...formItemLayout}\n          layout={\"vertical\"}\n          initialValues={{ date: date, description: description }}\n          form={form}\n          onValuesChange={onFormUpdate}\n        >\n          <Form.Item label=\"Date\" name=\"date\">\n            <DatePicker\n              format=\"YYYY-MM-DD HH:mm\"\n              showTime={{ defaultValue: moment(\"00:00:00\", \"HH:mm:ss\") }}\n            />\n          </Form.Item>\n          <Form.Item label=\"Description\" name=\"description\">\n            <TextArea rows={4} />\n          </Form.Item>\n        </Form>\n      </Col>\n      <Col span={20} offset={1}>\n        <Button onClick={value.cancelEventCreationHandler}>Cancel</Button>&nbsp;\n        <Button onClick={saveEventHandler}>Save</Button>\n      </Col>\n    </Row>\n  );\n\n  return <>{body}</>;\n};\n\nexport default hot(module)(withRouter(CreateEvent));\n","import * as React from \"react\";\nimport { createRef } from 'react';\nimport { hot } from \"react-hot-loader\";\nimport { withRouter } from \"react-router-dom\";\nimport { mapbox } from \"../../../mapbox\";\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { Typography, Row, Col, Button } from 'antd';\nimport CreateEvent from \"./CreateEvent\";\nimport { auth, firebase, firestore } from \"../../../firebase\";\n\nimport { MapViewState, EventState, getDefaultEventState } from \"../MapViewState\";\nimport { MapState, MapStateContext } from \"./MapState\";\nimport { ExploreMapState } from \"./ExploreMapState\";\nimport { ViewEventMapState } from \"./ViewEventMapState\";\n\nconst { Title } = Typography;\nexport class CreateEventMapState extends MapState {\n\n  constructor(triggerStateChange) {\n    super(triggerStateChange);\n  }\n\n  render(context: MapStateContext): JSX.Element {\n    function onCancelEventCreationHandler() {\n      context.viewState.eventState = getDefaultEventState();\n      context.viewState.isCreatingEvent = false;\n\n      if (context.viewState.mapBox.getSource('route')) {\n        context.viewState.mapBox.removeLayer('route');\n        context.viewState.mapBox.removeSource('route');\n      }\n\n      if (context.viewState.mapBox.getSource('start')) {\n        context.viewState.mapBox.removeLayer('start');\n        context.viewState.mapBox.removeSource('start');\n      }\n\n      if (context.viewState.mapBox.getSource('end')) {\n        context.viewState.mapBox.removeLayer('end');\n        context.viewState.mapBox.removeSource('end');\n      }\n\n      this.triggerStateChange(new ExploreMapState(this.triggerStateChange));\n    }\n\n    function onSaveEventHandler(doc) {\n      context.setViewState({\n        isCreatingEvent: false,\n        eventState: getDefaultEventState()\n      });\n\n      context.viewState.mapBox.removeLayer('start');\n      context.viewState.mapBox.removeSource('start');\n\n      context.viewState.mapBox.removeLayer('end');\n      context.viewState.mapBox.removeSource('end');\n\n      context.viewState.mapBox.removeLayer('route');\n      context.viewState.mapBox.removeSource('route');\n\n      context.viewState.allEvents.set(doc.id, doc);\n\n      context.updateMap();\n\n      this.triggerStateChange(ViewEventMapState.fromUrl(doc.id, this.triggerStateChange));\n    }\n\n    return (<CreateEvent value={{\n      isCreatingEvent: context.viewState.isCreatingEvent,\n      canCreateEvent: context.viewState.canCreateEvent,\n      eventState: context.viewState.eventState,\n      cancelEventCreationHandler: onCancelEventCreationHandler.bind(this),\n      saveEventHandler: onSaveEventHandler.bind(this),\n    }} />);\n  }\n\n  onMapClick(e: any, context: MapStateContext): MapState {\n    this.addRouteWaypoint(context.viewState, context.setViewState, e.lngLat);\n    return this;\n  }\n\n  static fromOnMapClick(triggerStateChange, context: MapStateContext, e: any): MapState {\n    const mapState = new CreateEventMapState(triggerStateChange);\n    mapState.onMapClick(e, context);\n    return mapState\n  }\n\n  private addRouteWaypoint(viewState, setViewState, lngLat) {\n    const map = viewState.mapBox;\n    if (this.eventCreationZoomMinLevel < viewState.mapBox.getZoom()) {\n      if (!viewState.isCreatingEvent) {\n        setViewState({\n          isCreatingEvent: true,\n          eventState: getDefaultEventState()\n        })\n      }\n\n      var coords = this.lngLatDictToArray(lngLat);\n      map.getCanvasContainer().style.cursor = '';\n\n      if (map.getLayer('end')) {\n        var end = this.getFeatureCollectionDescription(coords);\n        map.getSource('end').setData(end);\n      } else {\n        map.addLayer(this.getMapLayerDescription('start', coords, '#f30'));\n        map.addLayer(this.getMapLayerDescription('end', [], '#3887be'));\n      }\n      this.getRoute(coords, viewState, setViewState);\n    }\n  }\n\n  private getRoute(end, viewState, setViewState) {\n    viewState.eventState.clickCoordinates.push(end[0]);\n    viewState.eventState.clickCoordinates.push(end[1]);\n\n    const clicksCount = viewState.eventState.clickCoordinates.length;\n    const prevPoint = clicksCount == 2 ? clicksCount - 1 : clicksCount - 3;\n\n    // make directions request using cycling profile\n    var url =\n      'https://api.mapbox.com/directions/v5/mapbox/walking/' +\n      viewState.eventState.clickCoordinates[prevPoint - 1] +\n      ',' +\n      viewState.eventState.clickCoordinates[prevPoint] +\n      ';' +\n      end[0] +\n      ',' +\n      end[1] +\n      '?steps=true&geometries=geojson&access_token=' +\n      mapbox.accessToken;\n\n    // make an XHR request https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n    var req = new XMLHttpRequest();\n    req.open('GET', url, true);\n    req.onload = function (e) {\n      var json = JSON.parse(e.target.response);\n      var data = json.routes[0];\n      var route = data.geometry.coordinates;\n\n      for (const r in route) {\n        viewState.eventState.routeCoordinates.push(route[r]);\n      }\n\n      var geojson = {\n        'type': 'Feature',\n        'properties': {},\n        'geometry': {\n          'type': 'LineString',\n          'coordinates': viewState.eventState.routeCoordinates\n        }\n      };\n\n      // if the route already exists on the map, we'll reset it using setData\n      if (viewState.mapBox.getSource('route')) {\n        viewState.mapBox.getSource('route').setData(geojson);\n      }\n      // otherwise, we'll make a new request\n      else {\n        viewState.mapBox.addLayer({\n          'id': 'route',\n          'type': 'line',\n          'source': {\n            'type': 'geojson',\n            'data': {\n              'type': 'Feature',\n              'properties': {},\n              'geometry': {\n                'type': 'LineString',\n                'coordinates': viewState.eventState.routeCoordinates\n              }\n            }\n          },\n          'layout': {\n            'line-join': 'round',\n            'line-cap': 'round'\n          },\n          'paint': {\n            'line-color': '#3887be',\n            'line-width': 5,\n            'line-opacity': 0.75\n          }\n        });\n      }\n\n      viewState.eventState.clicks += 1;\n      viewState.eventState.routeInstructions.set(viewState.eventState.clicks, data.legs[0]);\n      viewState.eventState.durations.push(data.duration);\n\n      for (let [key, instruction] of viewState.eventState.routeInstructions) {\n        if (instruction.summary !== \"\") {\n          viewState.eventState.summary = instruction.summary;\n          break;\n        }\n      }\n\n      let distance = 0;\n      for (let [key, instruction] of viewState.eventState.routeInstructions) {\n        distance += instruction.distance;\n      }\n      viewState.eventState.distance = distance;\n\n      setViewState({ eventState: viewState.eventState });\n    };\n    req.send();\n  }\n\n  private getMapLayerDescription(name, coords, color) {\n    return {\n      'id': name,\n      'type': 'circle',\n      'source': {\n        'type': 'geojson',\n        'data': this.getFeatureCollectionDescription(coords),\n      },\n      'paint': {\n        'circle-radius': 10,\n        'circle-color': color\n      }\n    };\n  }\n\n  private lngLatDictToArray(coordsObj) {\n    var coords = Object.keys(coordsObj).map(function (key) {\n      return coordsObj[key];\n    });\n    return coords;\n  }\n\n  private getFeatureCollectionDescription(coords) {\n    return {\n      'type': 'FeatureCollection',\n      'features': [\n        {\n          'type': 'Feature',\n          'properties': {},\n          'geometry': {\n            'type': 'Point',\n            'coordinates': coords\n          }\n        }\n      ]\n    };\n  }\n}","import * as React from \"react\";\nimport { createRef } from 'react';\nimport { hot } from \"react-hot-loader\";\nimport { withRouter } from \"react-router-dom\";\nimport { mapbox } from \"../../../mapbox\";\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { Typography, Row, Col, Button } from 'antd';\nimport CreateEvent from \"./CreateEvent\";\nimport { auth, firebase, firestore } from \"../../../firebase\";\n\nimport {MapViewState, EventState, getDefaultEventState} from \"../MapViewState\";\nimport { MapState, MapStateContext } from \"./MapState\";\nimport {ViewEventMapState} from \"./ViewEventMapState\";\nimport {CreateEventMapState} from \"./CreateEventMapState\";\n\nconst { Title } = Typography;\n\nexport class ExploreMapState extends MapState {\n  render(context: MapStateContext): JSX.Element {\n    let body = (<></>);\n    if (context.viewState.canCreateEvent) {\n      body = (\n        <Row>\n          <Col offset={1} span={22}>\n            <Typography.Title level={2}>Explore upcoming hikes or Click to create your event</Typography.Title>\n          </Col>\n        </Row>\n      );\n    }\n    else {\n      body = (\n        <Row>\n          <Col offset={1} span={22}>\n            <Typography.Title level={2}>Explore upcoming hikes or Zoom in to create your event</Typography.Title>\n          </Col>\n        </Row>\n      );\n    }\n\n    return (<>{body}</>);\n  }\n  static fromOnMapClick(triggerStateChange, context:MapStateContext, e: any) {\n    const mapState = new ExploreMapState(triggerStateChange);\n    return mapState.onMapClick(e, context);\n  }\n\n  onMapClick(e, context: MapStateContext): MapState {\n    const features = context.viewState.mapBox.queryRenderedFeatures(e.point, { layers: ['route_circles'] });\n    if (0 < features.length) {\n      return ViewEventMapState.fromOnMapClick(this.triggerStateChange, context, features);\n    }\n    else {\n      if (context.viewState.canCreateEvent) {\n        return CreateEventMapState.fromOnMapClick(this.triggerStateChange, context, e);\n      }\n      else {\n        return this;\n      }\n    }\n  }\n}","import { MapViewState, EventState, getDefaultEventState } from \"../MapViewState\";\nimport { MapState, MapStateContext } from \"./MapState\";\nimport { ExploreMapState } from \"./ExploreMapState\";\nimport { CreateEventMapState } from \"./CreateEventMapState\";\nimport { Typography, Row, Col } from \"antd\";\nimport React from \"react\";\nimport moment from \"moment\";\nimport { Comment, Avatar, Form, Button, List, Input, Tooltip } from 'antd';\nimport TextArea from \"antd/lib/input/TextArea\";\n\nexport class LoadingMapState extends MapState {\n  render(context: MapStateContext): JSX.Element {\n    return (\n      <Row>\n        <Col span={22} offset={1}>\n          <Typography.Title level={2}>Loading...</Typography.Title>\n        </Col>\n      </Row>);\n  }\n\n  onMapClick(e: any, context: MapStateContext): MapState {\n    return new ExploreMapState(this.triggerStateChange);\n  }\n}\n","import {MapViewState, EventState, getDefaultEventState} from \"../MapViewState\";\n\nexport type MapStateContext = {viewState: MapViewState,\n  setViewState: any,\n  user: any,\n  triggerStateChange: any,\n  props: any,\n  updateMap: any\n}\n\nexport abstract class MapState {\n    protected eventCreationZoomMinLevel = 11.7;\n    protected triggerStateChange;\n  \n    constructor(triggerStateChange) {\n      this.triggerStateChange = triggerStateChange;\n    }\n  \n    abstract onMapClick(e, context: MapStateContext): MapState;\n    abstract render(context: MapStateContext): JSX.Element;\n  }\n  ","import * as React from \"react\";\nimport * as _ from \"lodash\";\nimport { withRouter } from \"react-router-dom\";\nimport { hot } from \"react-hot-loader\";\nimport { Typography, Row, Col, Button, DatePicker, Avatar } from \"antd\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { auth, firestore } from \"../../../firebase\";\nimport firebaseApp from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { LoginUIContext } from \"../../../providers/LoginUIProvider\";\nimport { geohashForLocation } from \"geofire-common\";\nimport moment from \"moment\";\nimport { Input } from \"antd\";\nimport { Form, Radio } from \"antd\";\nimport { Comment, Tooltip, List } from \"antd\";\n\nconst { TextArea } = Input;\n\nconst ViewAllComments = ({ history, location, match, value }) => {\n  const [user, loading, error] = useAuthState(auth);\n  const [isLoginModalVisible, setIsLoginModalVisible] = useContext(\n    LoginUIContext,\n  );\n  const [comments, setComments] = useState([]);\n\n  useEffect(() => {\n    firestore\n      .collection(\"events/\" + value.doc.id + \"/comments\")\n      .get()\n      .then((snap) => {\n        const c = [];\n        for (const doc of snap.docs) {\n          c.push({\n            author: doc.get(\"ownerDisplayName\"),\n            avatar: doc.get(\"ownerPhotoUrl\"),\n            content: doc.get(\"value\"),\n            created: doc.get(\"created\"),\n            datetime: (\n              <Tooltip\n                title={moment(doc.get(\"created\").toDate()).format(\n                  \"YYYY-MM-DD HH:mm:ss\",\n                )}\n              >\n                <span>{moment(doc.get(\"created\").toDate()).fromNow()}</span>\n              </Tooltip>\n            ),\n          });\n        }\n        setComments(\n          c.sort(function (a, b) {\n            if (a.created > b.created) {\n              return 1;\n            }\n            if (a.created < b.created) {\n              return -1;\n            }\n            return 0;\n          }),\n        );\n      });\n  });\n\n  if (comments.length === 0) {\n    return <></>;\n  } else {\n    return (\n      <List\n        dataSource={comments}\n        itemLayout=\"horizontal\"\n        renderItem={(props) => <Comment {...props} />}\n      />\n    );\n  }\n};\n\nexport default hot(module)(withRouter(ViewAllComments));\n","import {\n  MapViewState,\n  EventState,\n  getDefaultEventState,\n} from \"../MapViewState\";\nimport { MapState, MapStateContext } from \"./MapState\";\nimport { ExploreMapState } from \"./ExploreMapState\";\nimport { CreateEventMapState } from \"./CreateEventMapState\";\nimport { Typography, Row, Col } from \"antd\";\nimport React from \"react\";\nimport moment from \"moment\";\nimport { Comment, Avatar, Form, Button, List, Input, Tooltip } from \"antd\";\nimport TextArea from \"antd/lib/input/TextArea\";\nimport CreateComment from \"./CreateComment\";\nimport ViewAllComments from \"./ViewAllComments\";\n\nexport class ViewEventMapState extends MapState {\n  eventId: null;\n\n  private handler() {}\n\n  render(context: MapStateContext): JSX.Element {\n    const doc = context.viewState.allEvents.get(this.eventId);\n\n    if (!doc) {\n      return (\n        <Row>\n          <Col span={22} offset={1}>\n            <Typography.Title level={2}>\n              Can't find this event.\n            </Typography.Title>\n          </Col>\n        </Row>\n      );\n    }\n\n    window.history.pushState(null, null, \"#/events/\" + this.eventId);\n\n    const comment = doc.get(\"description\")\n      ? doc.get(\"description\")\n      : \"Please join me for a hike.\";\n\n    return (\n      <Row>\n        <Col span={22} offset={1}>\n          <Typography.Title level={2}>{doc.get(\"summary\")}</Typography.Title>\n        </Col>\n        <Col span={21} offset={1}>\n          <Row>\n            <Col span={7}>Distance</Col>\n            <Col span={7}>Duration</Col>\n            <Col span={7}>Date</Col>\n          </Row>\n          <Row>\n            <Col span={7}>{(doc.get(\"distance\") / 1000).toFixed(2)} km</Col>\n            <Col span={7}>{Math.floor(doc.get(\"time\") / 60)} minutes</Col>\n            <Col span={7}>\n              {moment(doc.get(\"planned\").toDate()).format(\"Do MMM YYYY\")}\n            </Col>\n          </Row>\n        </Col>\n        <Col\n          span={23}\n          offset={1}\n          style={{\n            overflowY: \"auto\",\n            height: \"80vh\",\n          }}\n        >\n          <Comment\n            author={doc.get(\"ownerDisplayName\")}\n            avatar={doc.get(\"ownerPhotoUrl\")}\n            content={comment}\n            datetime={\n              <Tooltip\n                title={moment(doc.get(\"created\").toDate()).format(\n                  \"YYYY-MM-DD HH:mm:ss\",\n                )}\n              >\n                <span>{moment(doc.get(\"created\").toDate()).fromNow()}</span>\n              </Tooltip>\n            }\n          />\n          <ViewAllComments\n            value={{\n              viewState: context,\n              doc: doc,\n            }}\n          />\n          <CreateComment\n            value={{\n              viewState: context,\n              doc: doc,\n            }}\n          />\n        </Col>\n      </Row>\n    );\n  }\n\n  static fromOnMapClick(\n    triggerStateChange,\n    context: MapStateContext,\n    features,\n  ): MapState {\n    const mapState = new ViewEventMapState(triggerStateChange);\n    mapState.eventId = features[0].properties.eventId;\n    return mapState;\n  }\n\n  onMapClick(e: any, context: MapStateContext): MapState {\n    window.history.pushState(null, null, \"#/\");\n    return ExploreMapState.fromOnMapClick(this.triggerStateChange, context, e);\n  }\n\n  static fromUrl(eventId: any, triggerStateChange) {\n    const mapState = new ViewEventMapState(triggerStateChange);\n    mapState.eventId = eventId;\n    return mapState;\n  }\n}\n","import * as React from \"react\";\nimport { createRef, useContext, useEffect, useState } from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter } from \"react-router-dom\";\nimport { mapbox } from \"../mapbox\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { Typography, Row, Col, Button, Tooltip, Spin } from \"antd\";\nimport CreateEvent from \"./Map/States/CreateEvent\";\nimport { auth, firebase, firestore } from \"../firebase\";\nimport {\n  geohashForLocation,\n  geohashQueryBounds,\n  distanceBetween,\n} from \"geofire-common\";\n\nimport { UserContext } from \"../providers/UserProvider\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { LoginUIContext } from \"../providers/LoginUIProvider\";\nimport moment from \"moment\";\n\nconst { Title } = Typography;\n\nconst MyProfileView = ({ history, location, match }) => {\n  const [user, loading, error] = useAuthState(auth);\n  const [isLoginModalVisible, setIsLoginModalVisible] = useContext(\n    LoginUIContext,\n  );\n  const [comments, setComments] = useState([]);\n  const [profile, setProfile] = useState(null);\n\n  if (loading) {\n    return (\n      <div style={{ backgroundColor: \"#fff\" }}>\n        <Row>\n          <Col span={24}>\n            <Spin size=\"large\" />\n          </Col>\n        </Row>\n      </div>\n    );\n  } else {\n    return (\n      <>\n        <Row>\n          <Col span={24}>My profile</Col>\n        </Row>\n      </>\n    );\n  }\n};\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(MyProfileView));\n","import * as React from \"react\";\nimport { createRef, useContext, useEffect, useState } from \"react\";\nimport { hot } from \"react-hot-loader\";\nimport { withRouter } from \"react-router-dom\";\nimport { mapbox } from \"../mapbox\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport {\n  Typography,\n  Row,\n  Col,\n  Button,\n  Tooltip,\n  Spin,\n  Avatar,\n  Form,\n  Comment,\n  Input,\n  List,\n} from \"antd\";\nimport CreateEvent from \"./Map/States/CreateEvent\";\nimport { auth, firebase, firestore } from \"../firebase\";\nimport {\n  geohashForLocation,\n  geohashQueryBounds,\n  distanceBetween,\n} from \"geofire-common\";\nimport { Descriptions } from \"antd\";\n\nimport { UserContext } from \"../providers/UserProvider\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { LoginUIContext } from \"../providers/LoginUIProvider\";\nimport moment from \"moment\";\n\nconst { Title } = Typography;\nconst { TextArea } = Input;\n\nconst OtherProfileView = ({ history, location, match }) => {\n  const [user, loading, error] = useAuthState(auth);\n  const [isLoginModalVisible, setIsLoginModalVisible] = useContext(\n    LoginUIContext,\n  );\n  const [comments, setComments] = useState([]);\n  const [profile, setProfile] = useState(null);\n  const [form] = Form.useForm();\n  const [comment, setComment] = useState(\"\");\n  const [submitting, setSubmitting] = useState(false);\n\n  const handleChange = ({ comment }) => {\n    if (comment) {\n      setComment(comment);\n    }\n  };\n\n  async function handleSubmit() {\n    if (!comment) {\n      return;\n    }\n\n    if (!loading && user) {\n      setSubmitting(true);\n\n      const obj = {\n        value: comment,\n        ownerPhotoUrl: user.photoURL,\n        ownerDisplayName: user.displayName,\n        fromUserId: user.uid,\n        toUserId: profile.id,\n        created: new Date(),\n      };\n      const doc = await firestore.collection(\"messages\").add(obj);\n\n      const newComments = comments;\n      newComments.push({\n        author: obj.ownerDisplayName,\n        avatar: obj.ownerPhotoUrl,\n        content: obj.value,\n        created: obj.created,\n        datetime: (\n          <Tooltip title={moment(obj.created).format(\"YYYY-MM-DD HH:mm:ss\")}>\n            <span>{moment(obj.created).fromNow()}</span>\n          </Tooltip>\n        ),\n      });\n\n      setComment(\"\");\n      setComments(newComments);\n      setSubmitting(false);\n      form.resetFields();\n    } else {\n      setIsLoginModalVisible(true);\n    }\n  }\n\n  useEffect(() => {\n    if (user === null) {\n      return;\n    }\n\n    const { profileId } = match.params;\n    firestore\n      .collection(\"profiles\")\n      .doc(profileId)\n      .get()\n      .then((p) => {\n        setProfile(p);\n\n        firestore\n          .collection(\"messages\")\n          .where(\"toUserId\", \"==\", p.id)\n          .where(\"fromUserId\", \"==\", user.uid)\n          .get()\n          .then((snap) => {\n            const c = [];\n            for (const doc of snap.docs) {\n              c.push({\n                author: doc.get(\"ownerDisplayName\"),\n                avatar: doc.get(\"ownerPhotoUrl\"),\n                content: doc.get(\"value\"),\n                created: doc.get(\"created\"),\n                datetime: (\n                  <Tooltip\n                    title={moment(doc.get(\"created\").toDate()).format(\n                      \"YYYY-MM-DD HH:mm:ss\",\n                    )}\n                  >\n                    <span>{moment(doc.get(\"created\").toDate()).fromNow()}</span>\n                  </Tooltip>\n                ),\n              });\n            }\n            setComments(\n              c.sort(function (a, b) {\n                if (a.created > b.created) {\n                  return 1;\n                }\n                if (a.created < b.created) {\n                  return -1;\n                }\n                return 0;\n              }),\n            );\n          });\n      });\n  }, [user]);\n\n  function pleaseLogin() {\n    setIsLoginModalVisible(true);\n  }\n\n  if (!loading && !user) {\n    {\n      return (\n        <div style={{ backgroundColor: \"#fff\" }}>\n          <Row>\n            <Col span={24}>&nbsp;</Col>\n          </Row>\n          <Row>\n            <Col span={24}>&nbsp;</Col>\n          </Row>\n          <Row>\n            <Col span={10}></Col>\n            <Col span={4}>\n              <Button onClick={pleaseLogin} type=\"primary\">\n                Log in\n              </Button>\n            </Col>\n          </Row>\n        </div>\n      );\n    }\n  }\n\n  if (null != profile) {\n    let commentHtml = <></>;\n    if (comments.length !== 0) {\n      commentHtml = (\n        <Row>\n          <Col span={4}></Col>\n          <Col span={16}>\n            <List\n              dataSource={comments}\n              itemLayout=\"horizontal\"\n              renderItem={(props) => <Comment {...props} />}\n            />\n          </Col>\n        </Row>\n      );\n    }\n\n    return (\n      <div style={{ backgroundColor: \"#fff\" }}>\n        <Row>\n          <Col span={4}></Col>\n          <Col span={16}>&nbsp;</Col>\n        </Row>\n        <Row>\n          <Col span={4}></Col>\n          <Col span={2}>\n            <Avatar\n              size={{ xs: 24, sm: 32, md: 40, lg: 64, xl: 80, xxl: 100 }}\n              src={profile.get(\"photoUrl\")}\n            />\n          </Col>\n          <Col span={14}>\n            <Typography.Title level={3}>\n              {\" \"}\n              {profile.get(\"displayName\")}\n            </Typography.Title>\n            On site since{\" \"}\n            {moment(profile.get(\"createDate\").toDate()).format(\"Do MMM YYYY\")}\n          </Col>\n        </Row>\n        <Row>\n          <Col span={4}></Col>\n          <Col span={16}>&nbsp;</Col>\n        </Row>\n        <Row>\n          <Col span={4}></Col>\n          <Col span={16}>\n            <Typography.Title level={4}>Messages</Typography.Title>\n          </Col>\n        </Row>\n        {commentHtml}\n        <Row>\n          <Col span={4}></Col>\n          <Col span={16}>\n            <Comment\n              avatar={<Avatar src={user.photoURL} alt={user.displayName} />}\n              content={\n                <>\n                  <Form\n                    layout={\"vertical\"}\n                    initialValues={{ comment: comment }}\n                    form={form}\n                    onValuesChange={handleChange}\n                  >\n                    <Form.Item name=\"comment\">\n                      <TextArea rows={4} />\n                    </Form.Item>\n                  </Form>\n                  <Button\n                    htmlType=\"submit\"\n                    loading={submitting}\n                    onClick={handleSubmit}\n                    type=\"primary\"\n                  >\n                    Send\n                  </Button>\n                </>\n              }\n            />\n          </Col>\n        </Row>\n      </div>\n    );\n  } else {\n    return (\n      <div style={{ backgroundColor: \"#fff\" }}>\n        <Row>\n          <Col span={24}>&nbsp;</Col>\n        </Row>\n        <Row>\n          <Col span={24}>&nbsp;</Col>\n        </Row>\n        <Row>\n          <Col span={10}></Col>\n          <Col span={4}>\n            <Spin size=\"large\" />\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n};\n\ndeclare let module: Record<string, unknown>;\n\nexport default hot(module)(withRouter(OtherProfileView));\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../node_modules/css-loader/dist/cjs.js!../node_modules/antd/dist/antd.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".app{font-family:helvetica, arial, sans-serif;padding:2em;border:5px solid red}.app p{background-color:#ff0}.pl-10{padding-left:10px}.pl-5{padding-left:5px}.pl-15{padding-left:15px}div.react-flow__handle{width:12px;height:12px}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./App.scss\"],\"names\":[],\"mappings\":\"AAGA,KACI,wCAAyC,CACzC,WAAY,CACZ,oBAJc,CAClB,OAKQ,qBAPS,CAQZ,OAID,iBAAkB,CACrB,MAGG,gBAAiB,CACpB,OAGG,iBAAkB,CACrB,uBAGG,UAAW,CACX,WAAY\",\"sourcesContent\":[\"@import '~antd/dist/antd.css';\\n$bg-color: yellow;\\n$border-color: red;\\n.app {\\n    font-family: helvetica, arial, sans-serif;\\n    padding: 2em;\\n    border: 5px solid $border-color;\\n    p {\\n        background-color: $bg-color;\\n    }\\n}\\n\\n.pl-10 {\\n    padding-left: 10px;\\n}\\n\\n.pl-5 {\\n    padding-left: 5px;\\n}\\n\\n.pl-15 {\\n    padding-left: 15px;\\n}\\n\\ndiv.react-flow__handle {\\n    width: 12px;\\n    height: 12px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".map-container{width:100%;height:93vh}.map-sidebar{background-color:#fff}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./views/Map/MapView.scss\"],\"names\":[],\"mappings\":\"AAAA,eACI,UAAW,CACX,WAAY,CACf,aAGG,qBAAsB\",\"sourcesContent\":[\".map-container {\\n    width: 100%;\\n    height: 93vh;\\n}\\n\\n.map-sidebar {\\n    background-color: #fff;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var map = {\n\t\"./af\": 1009,\n\t\"./af.js\": 1009,\n\t\"./ar\": 8769,\n\t\"./ar-dz\": 3739,\n\t\"./ar-dz.js\": 3739,\n\t\"./ar-kw\": 3745,\n\t\"./ar-kw.js\": 3745,\n\t\"./ar-ly\": 9576,\n\t\"./ar-ly.js\": 9576,\n\t\"./ar-ma\": 7408,\n\t\"./ar-ma.js\": 7408,\n\t\"./ar-sa\": 8781,\n\t\"./ar-sa.js\": 8781,\n\t\"./ar-tn\": 7856,\n\t\"./ar-tn.js\": 7856,\n\t\"./ar.js\": 8769,\n\t\"./az\": 2030,\n\t\"./az.js\": 2030,\n\t\"./be\": 6476,\n\t\"./be.js\": 6476,\n\t\"./bg\": 5304,\n\t\"./bg.js\": 5304,\n\t\"./bm\": 8125,\n\t\"./bm.js\": 8125,\n\t\"./bn\": 34,\n\t\"./bn-bd\": 9835,\n\t\"./bn-bd.js\": 9835,\n\t\"./bn.js\": 34,\n\t\"./bo\": 4082,\n\t\"./bo.js\": 4082,\n\t\"./br\": 8317,\n\t\"./br.js\": 8317,\n\t\"./bs\": 3107,\n\t\"./bs.js\": 3107,\n\t\"./ca\": 8272,\n\t\"./ca.js\": 8272,\n\t\"./cs\": 8567,\n\t\"./cs.js\": 8567,\n\t\"./cv\": 1583,\n\t\"./cv.js\": 1583,\n\t\"./cy\": 3717,\n\t\"./cy.js\": 3717,\n\t\"./da\": 1760,\n\t\"./da.js\": 1760,\n\t\"./de\": 8973,\n\t\"./de-at\": 3214,\n\t\"./de-at.js\": 3214,\n\t\"./de-ch\": 4728,\n\t\"./de-ch.js\": 4728,\n\t\"./de.js\": 8973,\n\t\"./dv\": 4053,\n\t\"./dv.js\": 4053,\n\t\"./el\": 7499,\n\t\"./el.js\": 7499,\n\t\"./en-au\": 7876,\n\t\"./en-au.js\": 7876,\n\t\"./en-ca\": 7010,\n\t\"./en-ca.js\": 7010,\n\t\"./en-gb\": 4239,\n\t\"./en-gb.js\": 4239,\n\t\"./en-ie\": 9830,\n\t\"./en-ie.js\": 9830,\n\t\"./en-il\": 8438,\n\t\"./en-il.js\": 8438,\n\t\"./en-in\": 5322,\n\t\"./en-in.js\": 5322,\n\t\"./en-nz\": 3264,\n\t\"./en-nz.js\": 3264,\n\t\"./en-sg\": 5449,\n\t\"./en-sg.js\": 5449,\n\t\"./eo\": 9486,\n\t\"./eo.js\": 9486,\n\t\"./es\": 2430,\n\t\"./es-do\": 6310,\n\t\"./es-do.js\": 6310,\n\t\"./es-mx\": 7038,\n\t\"./es-mx.js\": 7038,\n\t\"./es-us\": 3099,\n\t\"./es-us.js\": 3099,\n\t\"./es.js\": 2430,\n\t\"./et\": 4975,\n\t\"./et.js\": 4975,\n\t\"./eu\": 7063,\n\t\"./eu.js\": 7063,\n\t\"./fa\": 8073,\n\t\"./fa.js\": 8073,\n\t\"./fi\": 957,\n\t\"./fi.js\": 957,\n\t\"./fil\": 8764,\n\t\"./fil.js\": 8764,\n\t\"./fo\": 1775,\n\t\"./fo.js\": 1775,\n\t\"./fr\": 4179,\n\t\"./fr-ca\": 4306,\n\t\"./fr-ca.js\": 4306,\n\t\"./fr-ch\": 3791,\n\t\"./fr-ch.js\": 3791,\n\t\"./fr.js\": 4179,\n\t\"./fy\": 7014,\n\t\"./fy.js\": 7014,\n\t\"./ga\": 6911,\n\t\"./ga.js\": 6911,\n\t\"./gd\": 2958,\n\t\"./gd.js\": 2958,\n\t\"./gl\": 7344,\n\t\"./gl.js\": 7344,\n\t\"./gom-deva\": 3161,\n\t\"./gom-deva.js\": 3161,\n\t\"./gom-latn\": 5798,\n\t\"./gom-latn.js\": 5798,\n\t\"./gu\": 8485,\n\t\"./gu.js\": 8485,\n\t\"./he\": 7917,\n\t\"./he.js\": 7917,\n\t\"./hi\": 2159,\n\t\"./hi.js\": 2159,\n\t\"./hr\": 5842,\n\t\"./hr.js\": 5842,\n\t\"./hu\": 5,\n\t\"./hu.js\": 5,\n\t\"./hy-am\": 1312,\n\t\"./hy-am.js\": 1312,\n\t\"./id\": 781,\n\t\"./id.js\": 781,\n\t\"./is\": 4101,\n\t\"./is.js\": 4101,\n\t\"./it\": 3467,\n\t\"./it-ch\": 4759,\n\t\"./it-ch.js\": 4759,\n\t\"./it.js\": 3467,\n\t\"./ja\": 4164,\n\t\"./ja.js\": 4164,\n\t\"./jv\": 79,\n\t\"./jv.js\": 79,\n\t\"./ka\": 7036,\n\t\"./ka.js\": 7036,\n\t\"./kk\": 2022,\n\t\"./kk.js\": 2022,\n\t\"./km\": 3418,\n\t\"./km.js\": 3418,\n\t\"./kn\": 3655,\n\t\"./kn.js\": 3655,\n\t\"./ko\": 986,\n\t\"./ko.js\": 986,\n\t\"./ku\": 1902,\n\t\"./ku.js\": 1902,\n\t\"./ky\": 4604,\n\t\"./ky.js\": 4604,\n\t\"./lb\": 9026,\n\t\"./lb.js\": 9026,\n\t\"./lo\": 537,\n\t\"./lo.js\": 537,\n\t\"./lt\": 2288,\n\t\"./lt.js\": 2288,\n\t\"./lv\": 1495,\n\t\"./lv.js\": 1495,\n\t\"./me\": 690,\n\t\"./me.js\": 690,\n\t\"./mi\": 2571,\n\t\"./mi.js\": 2571,\n\t\"./mk\": 3959,\n\t\"./mk.js\": 3959,\n\t\"./ml\": 7225,\n\t\"./ml.js\": 7225,\n\t\"./mn\": 88,\n\t\"./mn.js\": 88,\n\t\"./mr\": 6622,\n\t\"./mr.js\": 6622,\n\t\"./ms\": 1070,\n\t\"./ms-my\": 8958,\n\t\"./ms-my.js\": 8958,\n\t\"./ms.js\": 1070,\n\t\"./mt\": 3931,\n\t\"./mt.js\": 3931,\n\t\"./my\": 5393,\n\t\"./my.js\": 5393,\n\t\"./nb\": 4274,\n\t\"./nb.js\": 4274,\n\t\"./ne\": 8914,\n\t\"./ne.js\": 8914,\n\t\"./nl\": 3114,\n\t\"./nl-be\": 8479,\n\t\"./nl-be.js\": 8479,\n\t\"./nl.js\": 3114,\n\t\"./nn\": 4513,\n\t\"./nn.js\": 4513,\n\t\"./oc-lnc\": 6549,\n\t\"./oc-lnc.js\": 6549,\n\t\"./pa-in\": 8264,\n\t\"./pa-in.js\": 8264,\n\t\"./pl\": 2848,\n\t\"./pl.js\": 2848,\n\t\"./pt\": 899,\n\t\"./pt-br\": 5077,\n\t\"./pt-br.js\": 5077,\n\t\"./pt.js\": 899,\n\t\"./ro\": 2512,\n\t\"./ro.js\": 2512,\n\t\"./ru\": 1753,\n\t\"./ru.js\": 1753,\n\t\"./sd\": 6840,\n\t\"./sd.js\": 6840,\n\t\"./se\": 8362,\n\t\"./se.js\": 8362,\n\t\"./si\": 464,\n\t\"./si.js\": 464,\n\t\"./sk\": 6324,\n\t\"./sk.js\": 6324,\n\t\"./sl\": 1963,\n\t\"./sl.js\": 1963,\n\t\"./sq\": 3039,\n\t\"./sq.js\": 3039,\n\t\"./sr\": 3454,\n\t\"./sr-cyrl\": 466,\n\t\"./sr-cyrl.js\": 466,\n\t\"./sr.js\": 3454,\n\t\"./ss\": 5158,\n\t\"./ss.js\": 5158,\n\t\"./sv\": 8859,\n\t\"./sv.js\": 8859,\n\t\"./sw\": 7594,\n\t\"./sw.js\": 7594,\n\t\"./ta\": 6915,\n\t\"./ta.js\": 6915,\n\t\"./te\": 5677,\n\t\"./te.js\": 5677,\n\t\"./tet\": 2154,\n\t\"./tet.js\": 2154,\n\t\"./tg\": 4098,\n\t\"./tg.js\": 4098,\n\t\"./th\": 9071,\n\t\"./th.js\": 9071,\n\t\"./tk\": 9381,\n\t\"./tk.js\": 9381,\n\t\"./tl-ph\": 1869,\n\t\"./tl-ph.js\": 1869,\n\t\"./tlh\": 2346,\n\t\"./tlh.js\": 2346,\n\t\"./tr\": 1483,\n\t\"./tr.js\": 1483,\n\t\"./tzl\": 266,\n\t\"./tzl.js\": 266,\n\t\"./tzm\": 3138,\n\t\"./tzm-latn\": 2960,\n\t\"./tzm-latn.js\": 2960,\n\t\"./tzm.js\": 3138,\n\t\"./ug-cn\": 9456,\n\t\"./ug-cn.js\": 9456,\n\t\"./uk\": 805,\n\t\"./uk.js\": 805,\n\t\"./ur\": 1127,\n\t\"./ur.js\": 1127,\n\t\"./uz\": 9628,\n\t\"./uz-latn\": 840,\n\t\"./uz-latn.js\": 840,\n\t\"./uz.js\": 9628,\n\t\"./vi\": 6962,\n\t\"./vi.js\": 6962,\n\t\"./x-pseudo\": 9257,\n\t\"./x-pseudo.js\": 9257,\n\t\"./yo\": 2423,\n\t\"./yo.js\": 2423,\n\t\"./zh-cn\": 1002,\n\t\"./zh-cn.js\": 1002,\n\t\"./zh-hk\": 6046,\n\t\"./zh-hk.js\": 6046,\n\t\"./zh-mo\": 6903,\n\t\"./zh-mo.js\": 6903,\n\t\"./zh-tw\": 4710,\n\t\"./zh-tw.js\": 4710\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 5126;","import api from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./App.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./MapView.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","module.exports = React;","module.exports = ReactDOM;"],"sourceRoot":""}